\hypertarget{Client_2Heartbeating_8c}{\section{Riferimenti per il file Client/\+Heartbeating.c}
\label{Client_2Heartbeating_8c}\index{Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}}
}
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$stdarg.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/socket.\+h$>$}\\*
{\ttfamily \#include $<$netinet/in.\+h$>$}\\*
{\ttfamily \#include $<$netdb.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$fcntl.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include \char`\"{}inc/\+Heartbeating.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}inc/\+Config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}inc/\+Utils.\+h\char`\"{}}\\*
\subsection*{Strutture dati}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structThreadArgs}{Thread\+Args}
\end{DoxyCompactItemize}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{Client_2Heartbeating_8c_a39912bfe2a55f30e269196f9141d845d}{B\+U\+F\+F\+S\+I\+Z\+E}~30
\end{DoxyCompactItemize}
\subsection*{Ridefinizioni di tipo (typedef)}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structThreadArgs}{Thread\+Args} \hyperlink{Client_2Heartbeating_8c_aa9b2d8627ecc6bba91f8f1fa704f393d}{Thread\+Args}
\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{Client_2Heartbeating_8c_ab95a74565a85ceabf1a9f1310cdb434f}{invalidate} (\hyperlink{structMyDFSId}{My\+D\+F\+S\+Id} $\ast$id)
\begin{DoxyCompactList}\small\item\em Rimuove la lista di read\+List a seguito della ricezione di un comando di invalidazione. \end{DoxyCompactList}\item 
void \hyperlink{Client_2Heartbeating_8c_a996f23ff45bfbedeb9b64f6b030122f8}{spawn\+Heart\+Beat} (\hyperlink{structMyDFSId}{My\+D\+F\+S\+Id} $\ast$id)
\begin{DoxyCompactList}\small\item\em Se il processo esegue una O\+P\+E\+N poi una C\+L\+O\+S\+E e poi di nuovo O\+P\+E\+N il sd della connessione dati della seconda connessione potrebbe coincidere col sd dell' heartbeating. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{Client_2Heartbeating_8c_ac0251d094362d92791cda41e3a72592b}{heart\+Beat} (void $\ast$t\+A)
\begin{DoxyCompactList}\small\item\em Main del nuovo thread creato per l' heartbeating. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Documentazione delle definizioni}
\hypertarget{Client_2Heartbeating_8c_a39912bfe2a55f30e269196f9141d845d}{\index{Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}!B\+U\+F\+F\+S\+I\+Z\+E@{B\+U\+F\+F\+S\+I\+Z\+E}}
\index{B\+U\+F\+F\+S\+I\+Z\+E@{B\+U\+F\+F\+S\+I\+Z\+E}!Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}}
\subsubsection[{B\+U\+F\+F\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+U\+F\+F\+S\+I\+Z\+E~30}}\label{Client_2Heartbeating_8c_a39912bfe2a55f30e269196f9141d845d}


\subsection{Documentazione delle ridefinizioni di tipo (typedef)}
\hypertarget{Client_2Heartbeating_8c_aa9b2d8627ecc6bba91f8f1fa704f393d}{\index{Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}!Thread\+Args@{Thread\+Args}}
\index{Thread\+Args@{Thread\+Args}!Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}}
\subsubsection[{Thread\+Args}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf Thread\+Args} {\bf Thread\+Args}}}\label{Client_2Heartbeating_8c_aa9b2d8627ecc6bba91f8f1fa704f393d}


\subsection{Documentazione delle funzioni}
\hypertarget{Client_2Heartbeating_8c_ac0251d094362d92791cda41e3a72592b}{\index{Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}!heart\+Beat@{heart\+Beat}}
\index{heart\+Beat@{heart\+Beat}!Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}}
\subsubsection[{heart\+Beat}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ heart\+Beat (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{t\+A}
\end{DoxyParamCaption}
)}}\label{Client_2Heartbeating_8c_ac0251d094362d92791cda41e3a72592b}


Main del nuovo thread creato per l' heartbeating. 



Referenziato da spawn\+Heart\+Beat().

\hypertarget{Client_2Heartbeating_8c_ab95a74565a85ceabf1a9f1310cdb434f}{\index{Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}!invalidate@{invalidate}}
\index{invalidate@{invalidate}!Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}}
\subsubsection[{invalidate}]{\setlength{\rightskip}{0pt plus 5cm}int invalidate (
\begin{DoxyParamCaption}
\item[{{\bf My\+D\+F\+S\+Id} $\ast$}]{id}
\end{DoxyParamCaption}
)}}\label{Client_2Heartbeating_8c_ab95a74565a85ceabf1a9f1310cdb434f}


Rimuove la lista di read\+List a seguito della ricezione di un comando di invalidazione. 



Referenzia Read\+Op\+::next, e My\+D\+F\+S\+Id\+::read\+List\+Mutex.



Referenziato da heart\+Beat(), send\+Invalidate(), e sig\+\_\+handler().

\hypertarget{Client_2Heartbeating_8c_a996f23ff45bfbedeb9b64f6b030122f8}{\index{Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}!spawn\+Heart\+Beat@{spawn\+Heart\+Beat}}
\index{spawn\+Heart\+Beat@{spawn\+Heart\+Beat}!Client/\+Heartbeating.\+c@{Client/\+Heartbeating.\+c}}
\subsubsection[{spawn\+Heart\+Beat}]{\setlength{\rightskip}{0pt plus 5cm}void spawn\+Heart\+Beat (
\begin{DoxyParamCaption}
\item[{{\bf My\+D\+F\+S\+Id} $\ast$}]{id}
\end{DoxyParamCaption}
)}}\label{Client_2Heartbeating_8c_a996f23ff45bfbedeb9b64f6b030122f8}


Se il processo esegue una O\+P\+E\+N poi una C\+L\+O\+S\+E e poi di nuovo O\+P\+E\+N il sd della connessione dati della seconda connessione potrebbe coincidere col sd dell' heartbeating. 

L' H\+B potrebbe andare in recv, dopo la C\+L\+O\+S\+E e finire a fare la recv sulla connessione dati della successiva O\+P\+E\+N. 

Referenzia Thread\+Args\+::barriera, heart\+Beat(), Thread\+Args\+::id, e tid.



Referenziato da handle\+Open\+Command(), e mydfs\+\_\+open().

