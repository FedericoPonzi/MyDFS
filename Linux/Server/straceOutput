13457 execve("./Server", ["./Server"], [/* 51 vars */]) = 0
13457 brk(0)                            = 0x2605000
13457 access("/etc/ld.so.nohwcap", F_OK) = -1 ENOENT (No such file or directory)
13457 mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4d1000
13457 access("/etc/ld.so.preload", R_OK) = -1 ENOENT (No such file or directory)
13457 open("/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3
13457 fstat(3, {st_mode=S_IFREG|0644, st_size=123079, ...}) = 0
13457 mmap(NULL, 123079, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7f0d3c4b2000
13457 close(3)                          = 0
13457 access("/etc/ld.so.nohwcap", F_OK) = -1 ENOENT (No such file or directory)
13457 open("/lib/x86_64-linux-gnu/libpthread.so.0", O_RDONLY|O_CLOEXEC) = 3
13457 read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0po\0\0\0\0\0\0"..., 832) = 832
13457 fstat(3, {st_mode=S_IFREG|0755, st_size=141574, ...}) = 0
13457 mmap(NULL, 2217264, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f0d3c093000
13457 mprotect(0x7f0d3c0ac000, 2093056, PROT_NONE) = 0
13457 mmap(0x7f0d3c2ab000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x18000) = 0x7f0d3c2ab000
13457 mmap(0x7f0d3c2ad000, 13616, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c2ad000
13457 close(3)                          = 0
13457 access("/etc/ld.so.nohwcap", F_OK) = -1 ENOENT (No such file or directory)
13457 open("/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3
13457 read(3, "\177ELF\2\1\1\0\0\0\0\0\0\0\0\0\3\0>\0\1\0\0\0\320\37\2\0\0\0\0\0"..., 832) = 832
13457 fstat(3, {st_mode=S_IFREG|0755, st_size=1840928, ...}) = 0
13457 mmap(NULL, 3949248, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7f0d3bcce000
13457 mprotect(0x7f0d3be89000, 2093056, PROT_NONE) = 0
13457 mmap(0x7f0d3c088000, 24576, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1ba000) = 0x7f0d3c088000
13457 mmap(0x7f0d3c08e000, 17088, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c08e000
13457 close(3)                          = 0
13457 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4b1000
13457 mmap(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4af000
13457 arch_prctl(ARCH_SET_FS, 0x7f0d3c4af740) = 0
13457 mprotect(0x7f0d3c088000, 16384, PROT_READ) = 0
13457 mprotect(0x7f0d3c2ab000, 4096, PROT_READ) = 0
13457 mprotect(0x605000, 4096, PROT_READ) = 0
13457 mprotect(0x7f0d3c4d3000, 4096, PROT_READ) = 0
13457 munmap(0x7f0d3c4b2000, 123079)    = 0
13457 set_tid_address(0x7f0d3c4afa10)   = 13457
13457 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 futex(0x7ffc1c99aa10, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 1, NULL, 7f0d3c4af740) = -1 EAGAIN (Resource temporarily unavailable)
13457 rt_sigaction(SIGRTMIN, {0x7f0d3c0999f0, [], SA_RESTORER|SA_SIGINFO, 0x7f0d3c0a3340}, NULL, 8) = 0
13457 rt_sigaction(SIGRT_1, {0x7f0d3c099a80, [], SA_RESTORER|SA_RESTART|SA_SIGINFO, 0x7f0d3c0a3340}, NULL, 8) = 0
13457 rt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0
13457 getrlimit(RLIMIT_STACK, {rlim_cur=8192*1024, rlim_max=RLIM64_INFINITY}) = 0
13457 brk(0)                            = 0x2605000
13457 brk(0x2626000)                    = 0x2626000
13457 open("CONFIG", O_RDONLY)          = 3
13457 fstat(3, {st_mode=S_IFREG|0644, st_size=295, ...}) = 0
13457 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4d0000
13457 read(3, "##FILE DI CONFIG\n\n###\n##Numero m"..., 4096) = 295
13457 fstat(1, {st_mode=S_IFCHR|0620, st_rdev=makedev(136, 2), ...}) = 0
13457 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cf000
13457 write(1, "root_path = /tmp/\n", 18) = 18
13457 read(3, "", 4096)                 = 0
13457 write(1, "[Initialize Memory] - Sto per al"..., 51) = 51
13457 mmap(NULL, 588, PROT_READ|PROT_WRITE, MAP_SHARED|MAP_ANONYMOUS, 0, 0) = 0x7f0d3c4ce000
13457 write(1, "[Config]\n", 9)         = 9
13457 write(1, "'5' numero di connessioni\n", 26) = 26
13457 write(1, "'1' Processo o thread\n", 22) = 22
13457 write(1, "'9001' Porta in ascolto.\n\n", 26) = 26
13457 rt_sigaction(SIGUSR1, {0x401a8b, [USR1], SA_RESTORER|SA_RESTART, 0x7f0d3bd04d40}, {SIG_DFL, [], 0}, 8) = 0
13457 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 4
13457 bind(4, {sa_family=AF_INET, sin_port=htons(9001), sin_addr=inet_addr("0.0.0.0")}, 16) = 0
13457 listen(4, 5)                      = 0
13457 write(1, "Server avviato. Attendo connessi"..., 37) = 37
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13458
13458 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 clone( <unfinished ...>
13458 <... set_robust_list resumed> )   = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13459
13458 getppid( <unfinished ...>
13457 clone( <unfinished ...>
13459 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13458 <... getppid resumed> )           = 13457
13459 <... set_robust_list resumed> )   = 0
13458 write(1, "[spawnProcess] - Mio pid: 13458,"..., 49 <unfinished ...>
13459 getppid( <unfinished ...>
13460 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13459 <... getppid resumed> )           = 13457
13460 <... set_robust_list resumed> )   = 0
13458 <... write resumed> )             = 49
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13460
13459 write(1, "[spawnProcess] - Mio pid: 13459,"..., 49 <unfinished ...>
13458 accept(4,  <unfinished ...>
13460 getppid( <unfinished ...>
13457 clone( <unfinished ...>
13460 <... getppid resumed> )           = 13457
13459 <... write resumed> )             = 49
13459 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13460 write(1, "[spawnProcess] - Mio pid: 13460,"..., 49 <unfinished ...>
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13461
13460 <... write resumed> )             = 49
13457 clone( <unfinished ...>
13460 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13461 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13462
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13462 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13462 <... set_robust_list resumed> )   = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13461 getppid( <unfinished ...>
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13461 <... getppid resumed> )           = 13457
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13462 getppid( <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13462 <... getppid resumed> )           = 13457
13457 nanosleep({2, 0},  <unfinished ...>
13461 write(1, "[spawnProcess] - Mio pid: 13461,"..., 49 <unfinished ...>
13462 write(1, "[spawnProcess] - Mio pid: 13462,"..., 49 <unfinished ...>
13461 <... write resumed> )             = 49
13462 <... write resumed> )             = 49
13461 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13462 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13458 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49090), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13458 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13459 <... futex resumed> )             = 0
13458 <... futex resumed> )             = 1
13459 accept(4,  <unfinished ...>
13458 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13458 recvfrom(5, "OPE file.txt 1\n\0", 99, 0, NULL, NULL) = 16
13458 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13458 write(1, "'\n", 2)                = 2
13458 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13458 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13458 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13458 access("/tmp/file.txt", F_OK)     = 0
13458 open("/tmp/file.txt", O_RDWR)     = 6
13458 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13458 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13458 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13458 lseek(6, 0, SEEK_SET)             = 0
13458 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13458 lseek(6, 110, SEEK_SET)           = 110
13458 sendto(5, "110", 3, 0, NULL, 0)   = 3
13458 recvfrom(5, "port_num 34885", 15, 0, NULL, NULL) = 14
13458 getpeername(5, {sa_family=AF_INET, sin_port=htons(49090), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13458 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13458 connect(7, {sa_family=AF_INET, sin_port=htons(34885), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13458 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13458 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13458 write(1, " Filename: file.txt,\n", 21) = 21
13458 write(1, " Modo: 1,\n", 10)       = 10
13458 write(1, " Socket: 5,\n", 12)     = 12
13458 write(1, " HB: 7,\n", 8)          = 8
13458 write(1, " ptid: 13458.\n", 14)   = 14
13458 write(1, "]\n\n", 3)              = 3
13458 recvfrom(5,  <unfinished ...>
13459 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49092), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13459 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13460 <... futex resumed> )             = 0
13460 accept(4,  <unfinished ...>
13459 <... futex resumed> )             = 1
13459 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13459 recvfrom(5, "OPE file.txt 4\n\0", 99, 0, NULL, NULL) = 16
13459 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13459 write(1, "'\n", 2)                = 2
13459 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13459 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13459 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13459 access("/tmp/file.txt", F_OK)     = 0
13459 open("/tmp/file.txt", O_RDWR)     = 6
13459 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13459 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13459 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13459 lseek(6, 0, SEEK_SET)             = 0
13459 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13459 lseek(6, 110, SEEK_SET)           = 110
13459 sendto(5, "110", 3, 0, NULL, 0)   = 3
13459 recvfrom(5, "port_num 51018", 15, 0, NULL, NULL) = 14
13459 getpeername(5, {sa_family=AF_INET, sin_port=htons(49092), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13459 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13459 connect(7, {sa_family=AF_INET, sin_port=htons(51018), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13459 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13459 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13459 clone( <unfinished ...>
13470 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13459 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13470
13470 <... set_robust_list resumed> )   = 0
13459 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13470 write(1, "[Spawining HeartBeating] \n", 26) = 26
13459 <... sendto resumed> )            = 2
13470 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13459 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13470 <... write resumed> )             = 49
13470 write(1, " Filename: file.txt,\n", 21) = 21
13470 write(1, " Modo: 4,\n", 10)       = 10
13470 write(1, " Socket: 5,\n", 12)     = 12
13470 write(1, " HB: 7,\n", 8)          = 8
13470 write(1, " ptid: 13459.\n", 14)   = 14
13470 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13459 <... futex resumed> )             = 0
13470 write(1, "]Tempsd: 7, ptid: 13459\n", 24 <unfinished ...>
13459 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13470 <... write resumed> )             = 24
13470 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13459 <... futex resumed> )             = 0
13470 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13459 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13470 <... setsockopt resumed> )        = 0
13459 <... write resumed> )             = 49
13470 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13459 write(1, " Filename: file.txt,\n", 21) = 21
13459 write(1, " Modo: 4,\n", 10 <unfinished ...>
13470 <... rt_sigprocmask resumed> [], 8) = 0
13459 <... write resumed> )             = 10
13459 write(1, " Socket: 5,\n", 12 <unfinished ...>
13470 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13459 <... write resumed> )             = 12
13470 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13459 write(1, " HB: 7,\n", 8 <unfinished ...>
13470 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13459 <... write resumed> )             = 8
13470 <... rt_sigprocmask resumed> NULL, 8) = 0
13459 write(1, " ptid: 13459.\n", 14 <unfinished ...>
13470 nanosleep({1, 0},  <unfinished ...>
13459 <... write resumed> )             = 14
13459 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 0
13459 write(1, "]\n\n", 3)              = 3
13459 recvfrom(5,  <unfinished ...>
13458 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13458 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13458 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13458 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13458 write(1, "pos = 0\n", 8)          = 8
13458 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13458 write(1, "[READ] File aperto correttamente"..., 35) = 35
13458 lseek(6, 110, SEEK_SET)           = 110
13458 read(6, "", 61440)                = 0
13458 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13458 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13458 write(1, "'\n", 2)                = 2
13458 write(1, "[READ] Invio file...\n", 21) = 21
13458 write(5, "size 110\0", 9)         = 9
13458 write(1, "Transfer socket: '7'\n", 21) = 21
13458 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13458 write(1, "\n\n", 2)               = 2
13458 recvfrom(5,  <unfinished ...>
13459 <... recvfrom resumed> "CLO 1\n\0\0\0\0\0\0\0\0\0\0\260W\326\f\375\177\0\0/>@\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13459 write(1, "[handleSocket] - Client:'CLO 1\n", 31) = 31
13459 write(1, "'\n", 2)                = 2
13459 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13459 write(1, "HandleWrites: 1 numero di cambia"..., 40) = 40
13459 recvfrom(7, "POS 0 SIZE 51\n\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 100, 0, NULL, NULL) = 100
13459 write(1, "Messaggio: 100 dati,  'POS 0 SIZ"..., 37) = 37
13459 write(1, "'\n", 2)                = 2
13459 lseek(6, 110, SEEK_SET)           = 110
13459 write(1, "Ricevo dati:\n", 13)    = 13
13459 recvfrom(7, "Questo e' un test per l' invalid"..., 51, 0, NULL, NULL) = 51
13459 write(1, "Messaggio size: '51', 'Questo e'"..., 76) = 76
13459 write(1, "Buffer: Questo e' un test per l'"..., 62) = 62
13459 write(1, "Scritti 51 dati nel file. \n", 27) = 27
13459 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13459 write(1, "[Close] Trovato client, gli invi"..., 45) = 45
13459 write(1, "Socketid:7, processo: 13458\n", 28) = 28
13459 kill(13458, SIGUSR1)              = 0
13458 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13459 write(1, "Mandato segnale![closeClientSess"..., 74 <unfinished ...>
13458 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=13459, si_uid=1000} ---
13459 <... write resumed> )             = 74
13458 write(1, "received SIGUSR1\n", 17 <unfinished ...>
13459 lseek(6, -110, SEEK_CUR <unfinished ...>
13458 <... write resumed> )             = 17
13459 <... lseek resumed> )             = 0
13458 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13459 write(6, "Questo e' un test per l' invalid"..., 51) = 51
13459 close(6)                          = 0
13459 munmap(0x7f0d3c4cd000, 4096)      = 0
13459 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13458 <... futex resumed> )             = 0
13459 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13458 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13459 <... write resumed> )             = 51
13458 <... futex resumed> )             = 0
13459 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13458 sendto(7, "INVA", 4, 0, NULL, 0 <unfinished ...>
13459 <... write resumed> )             = 43
13459 close(5 <unfinished ...>
13458 <... sendto resumed> )            = 4
13459 <... close resumed> )             = 0
13458 rt_sigreturn( <unfinished ...>
13459 write(1, "\n\n", 2)               = 2
13458 <... rt_sigreturn resumed> )      = 45
13459 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13458 recvfrom(5,  <unfinished ...>
13459 <... write resumed> )             = 51
13459 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13459 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13459 exit_group(0)                     = ?
13470 +++ exited with 0 +++
13459 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 615116451}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13459, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13473
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13473 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13473 <... set_robust_list resumed> )   = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13473 getppid()                         = 13457
13473 write(1, "[spawnProcess] - Mio pid: 13473,"..., 49) = 49
13473 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13458 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13458 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13458 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13458 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13458 write(1, "pos = 0\n", 8)          = 8
13458 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13458 write(1, "[READ] File aperto correttamente"..., 35) = 35
13458 lseek(6, 0, SEEK_SET)             = 0
13458 read(6, "Questo e' un test per l' invalid"..., 61440) = 110
13458 read(6, "", 61440)                = 0
13458 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13458 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13458 write(1, "'\n", 2)                = 2
13458 write(1, "[READ] Invio file...\n", 21) = 21
13458 write(5, "size 110\0", 9)         = 9
13458 write(1, "Transfer socket: '7'\n", 21) = 21
13458 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13458 write(1, "\n\n", 2)               = 2
13458 recvfrom(5, "CLO 0\n\0\0\0\23@\0\0\0\0\0000Z\326\f\375\177\0\0\0\0\0\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13458 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13458 write(1, "'\n", 2)                = 2
13458 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13458 write(1, "[closeClientSession] - individua"..., 58) = 58
13458 close(6)                          = 0
13458 munmap(0x7f0d3c4cd000, 4096)      = 0
13458 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13458 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13458 close(5)                          = 0
13458 write(1, "\n\n", 2)               = 2
13458 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13458 exit_group(0)                     = ?
13458 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 610931810}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13458, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13483
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13483 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13483 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13483 getppid()                         = 13457
13483 write(1, "[spawnProcess] - Mio pid: 13483,"..., 49) = 49
13483 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13460 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49094), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13460 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13461 <... futex resumed> )             = 0
13460 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13461 accept(4,  <unfinished ...>
13460 <... write resumed> )             = 42
13460 recvfrom(5, "OPE file.txt 1\n\0", 99, 0, NULL, NULL) = 16
13460 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13460 write(1, "'\n", 2)                = 2
13460 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13460 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13460 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13460 access("/tmp/file.txt", F_OK)     = 0
13460 open("/tmp/file.txt", O_RDWR)     = 6
13460 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13460 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13460 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13460 lseek(6, 0, SEEK_SET)             = 0
13460 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13460 lseek(6, 110, SEEK_SET)           = 110
13460 sendto(5, "110", 3, 0, NULL, 0)   = 3
13460 recvfrom(5, "port_num 51508", 15, 0, NULL, NULL) = 14
13460 getpeername(5, {sa_family=AF_INET, sin_port=htons(49094), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13460 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13460 connect(7, {sa_family=AF_INET, sin_port=htons(51508), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13460 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13460 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13460 write(1, " Filename: file.txt,\n", 21) = 21
13460 write(1, " Modo: 1,\n", 10)       = 10
13460 write(1, " Socket: 5,\n", 12 <unfinished ...>
13461 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49096), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13460 <... write resumed> )             = 12
13461 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13460 write(1, " HB: 7,\n", 8 <unfinished ...>
13462 <... futex resumed> )             = 0
13461 <... futex resumed> )             = 1
13462 accept(4,  <unfinished ...>
13461 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13460 <... write resumed> )             = 8
13461 <... write resumed> )             = 42
13460 write(1, " ptid: 13460.\n", 14 <unfinished ...>
13461 recvfrom(5,  <unfinished ...>
13460 <... write resumed> )             = 14
13461 <... recvfrom resumed> "OPE file.txt 4\n\0", 99, 0, NULL, NULL) = 16
13460 write(1, "]\n\n", 3 <unfinished ...>
13461 write(1, "[handleSocket] - Client:'OPE fil"..., 40 <unfinished ...>
13460 <... write resumed> )             = 3
13461 <... write resumed> )             = 40
13460 recvfrom(5,  <unfinished ...>
13461 write(1, "'\n", 2)                = 2
13461 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13461 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13461 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13461 access("/tmp/file.txt", F_OK)     = 0
13461 open("/tmp/file.txt", O_RDWR)     = 6
13461 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13461 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13461 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13461 lseek(6, 0, SEEK_SET)             = 0
13461 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13461 lseek(6, 110, SEEK_SET)           = 110
13461 sendto(5, "110", 3, 0, NULL, 0)   = 3
13461 recvfrom(5, "port_num 49670", 15, 0, NULL, NULL) = 14
13461 getpeername(5, {sa_family=AF_INET, sin_port=htons(49096), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13461 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13461 connect(7, {sa_family=AF_INET, sin_port=htons(49670), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13461 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13461 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13461 clone( <unfinished ...>
13486 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13461 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13486
13486 <... set_robust_list resumed> )   = 0
13461 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13486 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13461 <... sendto resumed> )            = 2
13486 <... write resumed> )             = 26
13461 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13486 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13461 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13486 <... futex resumed> )             = 0
13461 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13486 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13461 <... write resumed> )             = 49
13461 write(1, " Filename: file.txt,\n", 21) = 21
13460 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13461 write(1, " Modo: 4,\n", 10 <unfinished ...>
13460 write(1, "[handleSocket] - Client:'REA 0'\n", 32 <unfinished ...>
13461 <... write resumed> )             = 10
13460 <... write resumed> )             = 32
13461 write(1, " Socket: 5,\n", 12 <unfinished ...>
13460 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13461 <... write resumed> )             = 12
13460 <... write resumed> )             = 40
13461 write(1, " HB: 7,\n", 8 <unfinished ...>
13460 write(1, "[READ]: Ricevuta richiesta read."..., 49 <unfinished ...>
13461 <... write resumed> )             = 8
13460 <... write resumed> )             = 49
13461 write(1, " ptid: 13461.\n", 14 <unfinished ...>
13460 write(1, "pos = 0\n", 8 <unfinished ...>
13461 <... write resumed> )             = 14
13460 <... write resumed> )             = 8
13461 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13460 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40 <unfinished ...>
13486 <... futex resumed> )             = 0
13461 <... futex resumed> )             = 1
13486 write(1, "][OpenCommand] Connessione creat"..., 50 <unfinished ...>
13461 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13486 <... write resumed> )             = 50
13460 <... write resumed> )             = 40
13486 write(1, " Filename: file.txt,\n", 21 <unfinished ...>
13460 write(1, "[READ] File aperto correttamente"..., 35 <unfinished ...>
13486 <... write resumed> )             = 21
13460 <... write resumed> )             = 35
13486 write(1, " Modo: 4,\n", 10 <unfinished ...>
13460 lseek(6, 110, SEEK_SET <unfinished ...>
13486 <... write resumed> )             = 10
13460 <... lseek resumed> )             = 110
13486 write(1, " Socket: 5,\n", 12 <unfinished ...>
13460 read(6,  <unfinished ...>
13486 <... write resumed> )             = 12
13460 <... read resumed> "", 61440)     = 0
13486 write(1, " HB: 7,\n", 8 <unfinished ...>
13460 write(1, "[READ] Bytes letti: 110 \n", 25 <unfinished ...>
13486 <... write resumed> )             = 8
13460 <... write resumed> )             = 25
13486 write(1, " ptid: 13461.\n", 14 <unfinished ...>
13460 write(1, "[READ] Contenuto letto: 'Questo "..., 135 <unfinished ...>
13486 <... write resumed> )             = 14
13460 <... write resumed> )             = 135
13486 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13460 write(1, "'\n", 2 <unfinished ...>
13486 <... futex resumed> )             = 1
13461 <... futex resumed> )             = 0
13486 write(1, "]Tempsd: 7, ptid: 13461\n", 24 <unfinished ...>
13461 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13486 <... write resumed> )             = 24
13460 <... write resumed> )             = 2
13486 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13460 write(1, "[READ] Invio file...\n", 21 <unfinished ...>
13486 <... futex resumed> )             = 1
13461 <... futex resumed> )             = 0
13486 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13461 write(1, "\n\n", 2 <unfinished ...>
13486 <... setsockopt resumed> )        = 0
13461 <... write resumed> )             = 2
13486 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13461 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13486 <... rt_sigprocmask resumed> [], 8) = 0
13461 <... futex resumed> )             = 0
13486 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13461 recvfrom(5,  <unfinished ...>
13486 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13460 <... write resumed> )             = 21
13486 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13460 write(5, "size 110\0", 9 <unfinished ...>
13486 <... rt_sigprocmask resumed> NULL, 8) = 0
13486 nanosleep({1, 0},  <unfinished ...>
13460 <... write resumed> )             = 9
13460 write(1, "Transfer socket: '7'\n", 21) = 21
13460 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13460 write(1, "\n\n", 2)               = 2
13460 recvfrom(5,  <unfinished ...>
13461 <... recvfrom resumed> "CLO 1\n\0\0\0\0\0\0\0\0\0\0 \314'\7\374\177\0\0/>@\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13461 write(1, "[handleSocket] - Client:'CLO 1\n", 31) = 31
13461 write(1, "'\n", 2)                = 2
13461 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13461 write(1, "HandleWrites: 1 numero di cambia"..., 40) = 40
13461 recvfrom(7, "POS 0 SIZE 51\n\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 100, 0, NULL, NULL) = 100
13461 write(1, "Messaggio: 100 dati,  'POS 0 SIZ"..., 37) = 37
13461 write(1, "'\n", 2)                = 2
13461 lseek(6, 110, SEEK_SET)           = 110
13461 write(1, "Ricevo dati:\n", 13)    = 13
13461 recvfrom(7, "Questo e' un test per l' invalid"..., 51, 0, NULL, NULL) = 51
13461 write(1, "Messaggio size: '51', 'Questo e'"..., 76) = 76
13461 write(1, "Buffer: Questo e' un test per l'"..., 62) = 62
13461 write(1, "Scritti 51 dati nel file. \n", 27) = 27
13461 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13461 write(1, "[Close] Trovato client, gli invi"..., 45) = 45
13461 write(1, "Socketid:7, processo: 13460\n", 28) = 28
13461 kill(13460, SIGUSR1)              = 0
13460 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13461 write(1, "Mandato segnale![closeClientSess"..., 74 <unfinished ...>
13460 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=13461, si_uid=1000} ---
13461 <... write resumed> )             = 74
13461 lseek(6, -110, SEEK_CUR <unfinished ...>
13460 write(1, "received SIGUSR1\n", 17 <unfinished ...>
13461 <... lseek resumed> )             = 0
13461 write(6, "Questo e' un test per l' invalid"..., 51 <unfinished ...>
13460 <... write resumed> )             = 17
13461 <... write resumed> )             = 51
13460 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13461 close(6)                          = 0
13461 munmap(0x7f0d3c4cd000, 4096)      = 0
13461 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13460 <... futex resumed> )             = 0
13461 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13460 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13461 <... write resumed> )             = 51
13460 <... futex resumed> )             = 0
13461 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13460 sendto(7, "INVA", 4, 0, NULL, 0 <unfinished ...>
13461 <... write resumed> )             = 43
13461 close(5 <unfinished ...>
13460 <... sendto resumed> )            = 4
13460 rt_sigreturn()                    = 45
13461 <... close resumed> )             = 0
13460 recvfrom(5,  <unfinished ...>
13461 write(1, "\n\n", 2)               = 2
13461 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13461 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13461 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13461 exit_group(0)                     = ?
13486 +++ exited with 0 +++
13461 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 492181238}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13461, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13488
13488 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13488 getppid( <unfinished ...>
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13488 <... getppid resumed> )           = 13457
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13488 write(1, "[spawnProcess] - Mio pid: 13488,"..., 49 <unfinished ...>
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13488 <... write resumed> )             = 49
13457 nanosleep({2, 0},  <unfinished ...>
13488 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13460 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13460 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13460 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13460 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13460 write(1, "pos = 0\n", 8)          = 8
13460 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13460 write(1, "[READ] File aperto correttamente"..., 35) = 35
13460 lseek(6, 0, SEEK_SET)             = 0
13460 read(6, "Questo e' un test per l' invalid"..., 61440) = 110
13460 read(6, "", 61440)                = 0
13460 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13460 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13460 write(1, "'\n", 2)                = 2
13460 write(1, "[READ] Invio file...\n", 21) = 21
13460 write(5, "size 110\0", 9)         = 9
13460 write(1, "Transfer socket: '7'\n", 21) = 21
13460 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13460 write(1, "\n\n", 2)               = 2
13460 recvfrom(5, "CLO 0\n\0\0\0\23@\0\0\0\0\0\240\316'\7\374\177\0\0\0\0\0\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13460 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13460 write(1, "'\n", 2)                = 2
13460 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13460 write(1, "[closeClientSession] - individua"..., 58) = 58
13460 close(6)                          = 0
13460 munmap(0x7f0d3c4cd000, 4096)      = 0
13460 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13460 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13460 close(5)                          = 0
13460 write(1, "\n\n", 2)               = 2
13460 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13460 exit_group(0)                     = ?
13460 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 492504920}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13460, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13497
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13497 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13497 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13497 getppid()                         = 13457
13497 write(1, "[spawnProcess] - Mio pid: 13497,"..., 49) = 49
13497 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13462 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49098), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13462 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13473 <... futex resumed> )             = 0
13473 accept(4,  <unfinished ...>
13462 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13462 recvfrom(5, "OPE file.txt 1\n\0", 99, 0, NULL, NULL) = 16
13462 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13462 write(1, "'\n", 2)                = 2
13462 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13462 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13462 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13462 access("/tmp/file.txt", F_OK)     = 0
13462 open("/tmp/file.txt", O_RDWR)     = 6
13462 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13462 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13462 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13462 lseek(6, 0, SEEK_SET)             = 0
13462 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13462 lseek(6, 110, SEEK_SET)           = 110
13462 sendto(5, "110", 3, 0, NULL, 0)   = 3
13462 recvfrom(5, "port_num 56986", 15, 0, NULL, NULL) = 14
13462 getpeername(5, {sa_family=AF_INET, sin_port=htons(49098), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13462 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13462 connect(7, {sa_family=AF_INET, sin_port=htons(56986), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13462 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13462 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13462 write(1, " Filename: file.txt,\n", 21) = 21
13462 write(1, " Modo: 1,\n", 10)       = 10
13462 write(1, " Socket: 5,\n", 12 <unfinished ...>
13473 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49100), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13462 <... write resumed> )             = 12
13473 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13462 write(1, " HB: 7,\n", 8 <unfinished ...>
13473 <... futex resumed> )             = 1
13483 <... futex resumed> )             = 0
13473 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13483 accept(4,  <unfinished ...>
13473 <... write resumed> )             = 42
13462 <... write resumed> )             = 8
13473 recvfrom(5,  <unfinished ...>
13462 write(1, " ptid: 13462.\n", 14 <unfinished ...>
13473 <... recvfrom resumed> "OPE file.txt 4\n\0", 99, 0, NULL, NULL) = 16
13462 <... write resumed> )             = 14
13473 write(1, "[handleSocket] - Client:'OPE fil"..., 40 <unfinished ...>
13462 write(1, "]\n\n", 3 <unfinished ...>
13473 <... write resumed> )             = 40
13462 <... write resumed> )             = 3
13473 write(1, "'\n", 2 <unfinished ...>
13462 recvfrom(5,  <unfinished ...>
13473 <... write resumed> )             = 2
13473 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13473 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13473 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13473 access("/tmp/file.txt", F_OK)     = 0
13473 open("/tmp/file.txt", O_RDWR)     = 6
13473 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13473 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13473 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13473 lseek(6, 0, SEEK_SET)             = 0
13473 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13473 lseek(6, 110, SEEK_SET)           = 110
13473 sendto(5, "110", 3, 0, NULL, 0)   = 3
13473 recvfrom(5, "port_num 39952", 15, 0, NULL, NULL) = 14
13473 getpeername(5, {sa_family=AF_INET, sin_port=htons(49100), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13473 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13473 connect(7, {sa_family=AF_INET, sin_port=htons(39952), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13473 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13473 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13473 clone( <unfinished ...>
13500 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13473 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13500
13500 <... set_robust_list resumed> )   = 0
13473 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13500 write(1, "[Spawining HeartBeating] \n", 26) = 26
13473 <... sendto resumed> )            = 2
13500 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13500 write(1, " Filename: file.txt,\n", 21 <unfinished ...>
13473 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13500 <... write resumed> )             = 21
13500 write(1, " Modo: 4,\n", 10)       = 10
13462 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13500 write(1, " Socket: 5,\n", 12)     = 12
13462 write(1, "[handleSocket] - Client:'REA 0'\n", 32 <unfinished ...>
13500 write(1, " HB: 7,\n", 8)          = 8
13462 <... write resumed> )             = 32
13500 write(1, " ptid: 13473.\n", 14 <unfinished ...>
13462 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13500 <... write resumed> )             = 14
13500 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13462 <... write resumed> )             = 40
13500 <... futex resumed> )             = 1
13473 <... futex resumed> )             = 0
13500 write(1, "]Tempsd: 7, ptid: 13473\n", 24 <unfinished ...>
13473 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13500 <... write resumed> )             = 24
13462 write(1, "[READ]: Ricevuta richiesta read."..., 49 <unfinished ...>
13500 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13473 <... futex resumed> )             = 0
13500 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13473 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13500 <... setsockopt resumed> )        = 0
13473 <... write resumed> )             = 49
13500 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13473 write(1, " Filename: file.txt,\n", 21 <unfinished ...>
13500 <... rt_sigprocmask resumed> [], 8) = 0
13473 <... write resumed> )             = 21
13500 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13473 write(1, " Modo: 4,\n", 10 <unfinished ...>
13500 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13473 <... write resumed> )             = 10
13500 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13473 write(1, " Socket: 5,\n", 12 <unfinished ...>
13500 <... rt_sigprocmask resumed> NULL, 8) = 0
13473 <... write resumed> )             = 12
13500 nanosleep({1, 0},  <unfinished ...>
13473 write(1, " HB: 7,\n", 8 <unfinished ...>
13462 <... write resumed> )             = 49
13473 <... write resumed> )             = 8
13462 write(1, "pos = 0\n", 8 <unfinished ...>
13473 write(1, " ptid: 13473.\n", 14 <unfinished ...>
13462 <... write resumed> )             = 8
13473 <... write resumed> )             = 14
13462 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40 <unfinished ...>
13473 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13462 <... write resumed> )             = 40
13473 <... futex resumed> )             = 0
13473 write(1, "]\n\n", 3)              = 3
13462 write(1, "[READ] File aperto correttamente"..., 35 <unfinished ...>
13473 recvfrom(5,  <unfinished ...>
13462 <... write resumed> )             = 35
13462 lseek(6, 110, SEEK_SET)           = 110
13462 read(6, "", 61440)                = 0
13462 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13462 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13462 write(1, "'\n", 2)                = 2
13462 write(1, "[READ] Invio file...\n", 21) = 21
13462 write(5, "size 110\0", 9)         = 9
13462 write(1, "Transfer socket: '7'\n", 21) = 21
13462 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13462 write(1, "\n\n", 2)               = 2
13462 recvfrom(5,  <unfinished ...>
13473 <... recvfrom resumed> "CLO 1\n\0\0\0\0\0\0\0\0\0\0p\332\200\253\375\177\0\0/>@\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13473 write(1, "[handleSocket] - Client:'CLO 1\n", 31) = 31
13473 write(1, "'\n", 2)                = 2
13473 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13473 write(1, "HandleWrites: 1 numero di cambia"..., 40) = 40
13473 recvfrom(7, "POS 0 SIZE 51\n\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 100, 0, NULL, NULL) = 100
13473 write(1, "Messaggio: 100 dati,  'POS 0 SIZ"..., 37) = 37
13473 write(1, "'\n", 2)                = 2
13473 lseek(6, 110, SEEK_SET)           = 110
13473 write(1, "Ricevo dati:\n", 13)    = 13
13473 recvfrom(7, "Questo e' un test per l' invalid"..., 51, 0, NULL, NULL) = 51
13473 write(1, "Messaggio size: '51', 'Questo e'"..., 76) = 76
13473 write(1, "Buffer: Questo e' un test per l'"..., 62) = 62
13473 write(1, "Scritti 51 dati nel file. \n", 27) = 27
13473 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13473 write(1, "[Close] Trovato client, gli invi"..., 45) = 45
13473 write(1, "Socketid:7, processo: 13462\n", 28) = 28
13473 kill(13462, SIGUSR1)              = 0
13462 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13473 write(1, "Mandato segnale![closeClientSess"..., 74 <unfinished ...>
13462 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=13473, si_uid=1000} ---
13473 <... write resumed> )             = 74
13462 write(1, "received SIGUSR1\n", 17 <unfinished ...>
13473 lseek(6, -110, SEEK_CUR)          = 0
13462 <... write resumed> )             = 17
13473 write(6, "Questo e' un test per l' invalid"..., 51 <unfinished ...>
13462 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13473 <... write resumed> )             = 51
13473 close(6)                          = 0
13473 munmap(0x7f0d3c4cd000, 4096)      = 0
13473 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13462 <... futex resumed> )             = 0
13473 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13462 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13473 <... write resumed> )             = 51
13462 <... futex resumed> )             = 0
13473 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13462 sendto(7, "INVA", 4, 0, NULL, 0 <unfinished ...>
13473 <... write resumed> )             = 43
13473 close(5 <unfinished ...>
13462 <... sendto resumed> )            = 4
13473 <... close resumed> )             = 0
13462 rt_sigreturn( <unfinished ...>
13473 write(1, "\n\n", 2 <unfinished ...>
13462 <... rt_sigreturn resumed> )      = 45
13473 <... write resumed> )             = 2
13462 recvfrom(5,  <unfinished ...>
13473 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13473 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13473 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13473 exit_group(0)                     = ?
13500 +++ exited with 0 +++
13473 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 294881064}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13473, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13503
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13503 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13503 <... set_robust_list resumed> )   = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13503 getppid()                         = 13457
13503 write(1, "[spawnProcess] - Mio pid: 13503,"..., 49) = 49
13503 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13462 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13462 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13462 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13462 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13462 write(1, "pos = 0\n", 8)          = 8
13462 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13462 write(1, "[READ] File aperto correttamente"..., 35) = 35
13462 lseek(6, 0, SEEK_SET)             = 0
13462 read(6, "Questo e' un test per l' invalid"..., 61440) = 110
13462 read(6, "", 61440)                = 0
13462 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13462 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13462 write(1, "'\n", 2)                = 2
13462 write(1, "[READ] Invio file...\n", 21) = 21
13462 write(5, "size 110\0", 9)         = 9
13462 write(1, "Transfer socket: '7'\n", 21) = 21
13462 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13462 write(1, "\n\n", 2)               = 2
13462 recvfrom(5, "CLO 0\n\0\0\0\23@\0\0\0\0\0\360\334\200\253\375\177\0\0\0\0\0\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13462 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13462 write(1, "'\n", 2)                = 2
13462 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13462 write(1, "[closeClientSession] - individua"..., 58) = 58
13462 close(6)                          = 0
13462 munmap(0x7f0d3c4cd000, 4096)      = 0
13462 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13462 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13462 close(5)                          = 0
13462 write(1, "\n\n", 2)               = 2
13462 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13462 exit_group(0)                     = ?
13462 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 294649786}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13462, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13483 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49102), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13483 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13488 <... futex resumed> )             = 0
13483 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13488 accept(4,  <unfinished ...>
13483 <... write resumed> )             = 42
13483 recvfrom(5, "OPE file.txt 1\n\0", 99, 0, NULL, NULL) = 16
13483 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13483 write(1, "'\n", 2)                = 2
13483 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13483 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13483 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13483 access("/tmp/file.txt", F_OK)     = 0
13483 open("/tmp/file.txt", O_RDWR)     = 6
13483 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13483 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13483 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13483 lseek(6, 0, SEEK_SET)             = 0
13483 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13483 lseek(6, 110, SEEK_SET)           = 110
13483 sendto(5, "110", 3, 0, NULL, 0)   = 3
13483 recvfrom(5, "port_num 47109", 15, 0, NULL, NULL) = 14
13483 getpeername(5, {sa_family=AF_INET, sin_port=htons(49102), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13483 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13483 connect(7, {sa_family=AF_INET, sin_port=htons(47109), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13483 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13483 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13483 write(1, " Filename: file.txt,\n", 21) = 21
13483 write(1, " Modo: 1,\n", 10)       = 10
13483 write(1, " Socket: 5,\n", 12)     = 12
13488 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49104), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13483 write(1, " HB: 7,\n", 8 <unfinished ...>
13488 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13483 <... write resumed> )             = 8
13488 <... futex resumed> )             = 1
13497 <... futex resumed> )             = 0
13488 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13497 accept(4,  <unfinished ...>
13488 <... write resumed> )             = 42
13483 write(1, " ptid: 13483.\n", 14 <unfinished ...>
13488 recvfrom(5,  <unfinished ...>
13483 <... write resumed> )             = 14
13488 <... recvfrom resumed> "OPE file.txt 4\n\0", 99, 0, NULL, NULL) = 16
13483 write(1, "]\n\n", 3 <unfinished ...>
13488 write(1, "[handleSocket] - Client:'OPE fil"..., 40 <unfinished ...>
13483 <... write resumed> )             = 3
13488 <... write resumed> )             = 40
13483 recvfrom(5,  <unfinished ...>
13488 write(1, "'\n", 2)                = 2
13488 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13488 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13488 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13488 access("/tmp/file.txt", F_OK)     = 0
13488 open("/tmp/file.txt", O_RDWR)     = 6
13488 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13488 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13488 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13488 lseek(6, 0, SEEK_SET)             = 0
13488 read(6, "Questo e' un test per l' invalid"..., 110) = 110
13488 lseek(6, 110, SEEK_SET)           = 110
13488 sendto(5, "110", 3, 0, NULL, 0)   = 3
13488 recvfrom(5, "port_num 47793", 15, 0, NULL, NULL) = 14
13488 getpeername(5, {sa_family=AF_INET, sin_port=htons(49104), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13488 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13488 connect(7, {sa_family=AF_INET, sin_port=htons(47793), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13488 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13488 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13488 clone( <unfinished ...>
13513 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13488 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13513
13513 <... set_robust_list resumed> )   = 0
13488 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13513 write(1, "[Spawining HeartBeating] \n", 26) = 26
13488 <... sendto resumed> )            = 2
13513 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13513 write(1, " Filename: file.txt,\n", 21) = 21
13488 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13513 write(1, " Modo: 4,\n", 10 <unfinished ...>
13483 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13513 <... write resumed> )             = 10
13483 write(1, "[handleSocket] - Client:'REA 0'\n", 32 <unfinished ...>
13513 write(1, " Socket: 5,\n", 12 <unfinished ...>
13483 <... write resumed> )             = 32
13513 <... write resumed> )             = 12
13483 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13513 write(1, " HB: 7,\n", 8 <unfinished ...>
13483 <... write resumed> )             = 40
13513 <... write resumed> )             = 8
13483 write(1, "[READ]: Ricevuta richiesta read."..., 49 <unfinished ...>
13513 write(1, " ptid: 13488.\n", 14 <unfinished ...>
13483 <... write resumed> )             = 49
13513 <... write resumed> )             = 14
13483 write(1, "pos = 0\n", 8 <unfinished ...>
13513 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13483 <... write resumed> )             = 8
13513 <... futex resumed> )             = 1
13488 <... futex resumed> )             = 0
13513 write(1, "]Tempsd: 7, ptid: 13488\n", 24 <unfinished ...>
13488 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13513 <... write resumed> )             = 24
13483 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40 <unfinished ...>
13513 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13483 <... write resumed> )             = 40
13513 <... futex resumed> )             = 1
13488 <... futex resumed> )             = 0
13513 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13488 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13513 <... setsockopt resumed> )        = 0
13488 <... write resumed> )             = 49
13513 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13488 write(1, " Filename: file.txt,\n", 21 <unfinished ...>
13513 <... rt_sigprocmask resumed> [], 8) = 0
13488 <... write resumed> )             = 21
13513 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13488 write(1, " Modo: 4,\n", 10 <unfinished ...>
13513 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13488 <... write resumed> )             = 10
13513 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13488 write(1, " Socket: 5,\n", 12 <unfinished ...>
13513 <... rt_sigprocmask resumed> NULL, 8) = 0
13488 <... write resumed> )             = 12
13513 nanosleep({1, 0},  <unfinished ...>
13488 write(1, " HB: 7,\n", 8 <unfinished ...>
13483 write(1, "[READ] File aperto correttamente"..., 35 <unfinished ...>
13488 <... write resumed> )             = 8
13483 <... write resumed> )             = 35
13488 write(1, " ptid: 13488.\n", 14 <unfinished ...>
13483 lseek(6, 110, SEEK_SET <unfinished ...>
13488 <... write resumed> )             = 14
13483 <... lseek resumed> )             = 110
13488 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 0
13483 read(6,  <unfinished ...>
13488 write(1, "]\n\n", 3 <unfinished ...>
13483 <... read resumed> "", 61440)     = 0
13488 <... write resumed> )             = 3
13488 recvfrom(5,  <unfinished ...>
13483 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13483 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13483 write(1, "'\n", 2)                = 2
13483 write(1, "[READ] Invio file...\n", 21) = 21
13483 write(5, "size 110\0", 9)         = 9
13483 write(1, "Transfer socket: '7'\n", 21) = 21
13483 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13483 write(1, "\n\n", 2)               = 2
13483 recvfrom(5,  <unfinished ...>
13488 <... recvfrom resumed> "CLO 1\n\0\0\0\0\0\0\0\0\0\0\220+\242.\375\177\0\0/>@\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13488 write(1, "[handleSocket] - Client:'CLO 1\n", 31) = 31
13488 write(1, "'\n", 2)                = 2
13488 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13488 write(1, "HandleWrites: 1 numero di cambia"..., 40) = 40
13488 recvfrom(7, "POS 0 SIZE 51\n\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 100, 0, NULL, NULL) = 100
13488 write(1, "Messaggio: 100 dati,  'POS 0 SIZ"..., 37) = 37
13488 write(1, "'\n", 2)                = 2
13488 lseek(6, 110, SEEK_SET)           = 110
13488 write(1, "Ricevo dati:\n", 13)    = 13
13488 recvfrom(7, "Questo e' un test per l' invalid"..., 51, 0, NULL, NULL) = 51
13488 write(1, "Messaggio size: '51', 'Questo e'"..., 76) = 76
13488 write(1, "Buffer: Questo e' un test per l'"..., 62) = 62
13488 write(1, "Scritti 51 dati nel file. \n", 27) = 27
13488 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13488 write(1, "[Close] Trovato client, gli invi"..., 45) = 45
13488 write(1, "Socketid:7, processo: 13483\n", 28) = 28
13488 kill(13483, SIGUSR1)              = 0
13483 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13488 write(1, "Mandato segnale![closeClientSess"..., 74 <unfinished ...>
13483 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=13488, si_uid=1000} ---
13488 <... write resumed> )             = 74
13483 write(1, "received SIGUSR1\n", 17 <unfinished ...>
13488 lseek(6, -110, SEEK_CUR <unfinished ...>
13483 <... write resumed> )             = 17
13488 <... lseek resumed> )             = 0
13483 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13488 write(6, "Questo e' un test per l' invalid"..., 51) = 51
13488 close(6)                          = 0
13488 munmap(0x7f0d3c4cd000, 4096)      = 0
13488 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13483 <... futex resumed> )             = 0
13488 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13483 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13488 <... write resumed> )             = 51
13483 <... futex resumed> )             = 0
13488 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13483 sendto(7, "INVA", 4, 0, NULL, 0 <unfinished ...>
13488 <... write resumed> )             = 43
13488 close(5 <unfinished ...>
13483 <... sendto resumed> )            = 4
13483 rt_sigreturn( <unfinished ...>
13488 <... close resumed> )             = 0
13483 <... rt_sigreturn resumed> )      = 45
13488 write(1, "\n\n", 2 <unfinished ...>
13483 recvfrom(5,  <unfinished ...>
13488 <... write resumed> )             = 2
13488 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13488 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13488 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13488 exit_group(0)                     = ?
13513 +++ exited with 0 +++
13488 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13488, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13515
13457 clone( <unfinished ...>
13515 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13516
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13516 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13516 <... set_robust_list resumed> )   = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13515 getppid( <unfinished ...>
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13515 <... getppid resumed> )           = 13457
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13516 getppid( <unfinished ...>
13457 nanosleep({2, 0},  <unfinished ...>
13516 <... getppid resumed> )           = 13457
13515 write(1, "[spawnProcess] - Mio pid: 13515,"..., 49 <unfinished ...>
13516 write(1, "[spawnProcess] - Mio pid: 13516,"..., 49 <unfinished ...>
13515 <... write resumed> )             = 49
13516 <... write resumed> )             = 49
13515 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13516 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13483 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13483 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13483 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13483 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13483 write(1, "pos = 0\n", 8)          = 8
13483 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13483 write(1, "[READ] File aperto correttamente"..., 35) = 35
13483 lseek(6, 0, SEEK_SET)             = 0
13483 read(6, "Questo e' un test per l' invalid"..., 61440) = 110
13483 read(6, "", 61440)                = 0
13483 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13483 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13483 write(1, "'\n", 2)                = 2
13483 write(1, "[READ] Invio file...\n", 21) = 21
13483 write(5, "size 110\0", 9)         = 9
13483 write(1, "Transfer socket: '7'\n", 21) = 21
13483 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13483 write(1, "\n\n", 2)               = 2
13483 recvfrom(5, "CLO 0\n\0\0\0\23@\0\0\0\0\0\20.\242.\375\177\0\0\0\0\0\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13483 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13483 write(1, "'\n", 2)                = 2
13483 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13483 write(1, "[closeClientSession] - individua"..., 58) = 58
13483 close(6)                          = 0
13483 munmap(0x7f0d3c4cd000, 4096)      = 0
13483 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13483 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13483 close(5)                          = 0
13483 write(1, "\n\n", 2)               = 2
13483 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13483 exit_group(0)                     = ?
13483 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 34879231}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13483, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13525
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13525 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13525 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13525 getppid()                         = 13457
13525 write(1, "[spawnProcess] - Mio pid: 13525,"..., 49) = 49
13525 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13497 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49107), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13497 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13503 <... futex resumed> )             = 0
13497 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13503 accept(4,  <unfinished ...>
13497 <... write resumed> )             = 42
13497 recvfrom(5, "OPE file.txt 1\n\0", 99, 0, NULL, NULL) = 16
13497 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13497 write(1, "'\n", 2)                = 2
13497 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13497 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13497 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13497 access("/tmp/file.txt", F_OK)     = 0
13497 open("/tmp/file.txt", O_RDWR)     = 6
13497 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13497 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13497 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13497 lseek(6, 0, SEEK_SET)             = 0
13497 read(6, "CIAO MONDO SONO UN FILE DI TEST!"..., 110) = 110
13497 lseek(6, 110, SEEK_SET)           = 110
13497 sendto(5, "110", 3, 0, NULL, 0)   = 3
13497 recvfrom(5, "port_num 39351", 15, 0, NULL, NULL) = 14
13497 getpeername(5, {sa_family=AF_INET, sin_port=htons(49107), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13497 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13497 connect(7, {sa_family=AF_INET, sin_port=htons(39351), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13497 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13497 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13497 write(1, " Filename: file.txt,\n", 21) = 21
13497 write(1, " Modo: 1,\n", 10)       = 10
13497 write(1, " Socket: 5,\n", 12)     = 12
13497 write(1, " HB: 7,\n", 8)          = 8
13497 write(1, " ptid: 13497.\n", 14)   = 14
13497 write(1, "]\n\n", 3)              = 3
13497 recvfrom(5,  <unfinished ...>
13503 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49109), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13503 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13515 <... futex resumed> )             = 0
13503 <... futex resumed> )             = 1
13515 accept(4,  <unfinished ...>
13503 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13503 recvfrom(5, "OPE file.txt 4\n\0", 99, 0, NULL, NULL) = 16
13503 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13503 write(1, "'\n", 2)                = 2
13503 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13503 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13503 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13503 access("/tmp/file.txt", F_OK)     = 0
13503 open("/tmp/file.txt", O_RDWR)     = 6
13503 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13503 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13503 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13503 lseek(6, 0, SEEK_SET)             = 0
13503 read(6, "CIAO MONDO SONO UN FILE DI TEST!"..., 110) = 110
13503 lseek(6, 110, SEEK_SET)           = 110
13503 sendto(5, "110", 3, 0, NULL, 0)   = 3
13503 recvfrom(5, "port_num 38946", 15, 0, NULL, NULL) = 14
13503 getpeername(5, {sa_family=AF_INET, sin_port=htons(49109), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13503 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13503 connect(7, {sa_family=AF_INET, sin_port=htons(38946), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13503 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13503 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13503 clone(child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13537
13503 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13537 set_robust_list(0x7f0d3bccd9e0, 24) = 0
13503 <... sendto resumed> )            = 2
13537 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13503 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13537 <... write resumed> )             = 26
13537 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13503 <... futex resumed> )             = 0
13537 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13503 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13537 <... write resumed> )             = 49
13497 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13537 write(1, " Filename: file.txt,\n", 21 <unfinished ...>
13497 write(1, "[handleSocket] - Client:'REA 0'\n", 32 <unfinished ...>
13537 <... write resumed> )             = 21
13497 <... write resumed> )             = 32
13537 write(1, " Modo: 4,\n", 10 <unfinished ...>
13497 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13537 <... write resumed> )             = 10
13497 <... write resumed> )             = 40
13537 write(1, " Socket: 5,\n", 12 <unfinished ...>
13497 write(1, "[READ]: Ricevuta richiesta read."..., 49 <unfinished ...>
13537 <... write resumed> )             = 12
13497 <... write resumed> )             = 49
13537 write(1, " HB: 7,\n", 8 <unfinished ...>
13497 write(1, "pos = 0\n", 8 <unfinished ...>
13537 <... write resumed> )             = 8
13497 <... write resumed> )             = 8
13537 write(1, " ptid: 13503.\n", 14 <unfinished ...>
13497 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40 <unfinished ...>
13537 <... write resumed> )             = 14
13497 <... write resumed> )             = 40
13537 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13497 write(1, "[READ] File aperto correttamente"..., 35 <unfinished ...>
13537 <... futex resumed> )             = 1
13503 <... futex resumed> )             = 0
13537 write(1, "]Tempsd: 7, ptid: 13503\n", 24 <unfinished ...>
13503 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13537 <... write resumed> )             = 24
13497 <... write resumed> )             = 35
13537 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13497 lseek(6, 110, SEEK_SET <unfinished ...>
13537 <... futex resumed> )             = 1
13503 <... futex resumed> )             = 0
13537 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13503 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13537 <... setsockopt resumed> )        = 0
13503 <... write resumed> )             = 49
13537 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13503 write(1, " Filename: file.txt,\n", 21 <unfinished ...>
13537 <... rt_sigprocmask resumed> [], 8) = 0
13503 <... write resumed> )             = 21
13537 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13503 write(1, " Modo: 4,\n", 10 <unfinished ...>
13537 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13503 <... write resumed> )             = 10
13537 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13503 write(1, " Socket: 5,\n", 12 <unfinished ...>
13537 <... rt_sigprocmask resumed> NULL, 8) = 0
13503 <... write resumed> )             = 12
13537 nanosleep({1, 0},  <unfinished ...>
13503 write(1, " HB: 7,\n", 8 <unfinished ...>
13497 <... lseek resumed> )             = 110
13503 <... write resumed> )             = 8
13497 read(6,  <unfinished ...>
13503 write(1, " ptid: 13503.\n", 14 <unfinished ...>
13497 <... read resumed> "", 61440)     = 0
13503 <... write resumed> )             = 14
13497 write(1, "[READ] Bytes letti: 110 \n", 25 <unfinished ...>
13503 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13497 <... write resumed> )             = 25
13503 <... futex resumed> )             = 0
13497 write(1, "[READ] Contenuto letto: 'CIAO MO"..., 135 <unfinished ...>
13503 write(1, "]\n\n", 3 <unfinished ...>
13497 <... write resumed> )             = 135
13503 <... write resumed> )             = 3
13497 write(1, "'\n", 2 <unfinished ...>
13503 recvfrom(5,  <unfinished ...>
13497 <... write resumed> )             = 2
13497 write(1, "[READ] Invio file...\n", 21) = 21
13497 write(5, "size 110\0", 9)         = 9
13497 write(1, "Transfer socket: '7'\n", 21) = 21
13497 write(5, "CIAO MONDO SONO UN FILE DI TEST!"..., 110) = 110
13497 write(1, "\n\n", 2)               = 2
13497 recvfrom(5,  <unfinished ...>
13503 <... recvfrom resumed> "CLO 1\n\0\0\0\0\0\0\0\0\0\0\360\23\fh\376\177\0\0/>@\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13503 write(1, "[handleSocket] - Client:'CLO 1\n", 31) = 31
13503 write(1, "'\n", 2)                = 2
13503 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13503 write(1, "HandleWrites: 1 numero di cambia"..., 40) = 40
13503 recvfrom(7, "POS 0 SIZE 51\n\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 100, 0, NULL, NULL) = 100
13503 write(1, "Messaggio: 100 dati,  'POS 0 SIZ"..., 37) = 37
13503 write(1, "'\n", 2)                = 2
13503 lseek(6, 110, SEEK_SET)           = 110
13503 write(1, "Ricevo dati:\n", 13)    = 13
13503 recvfrom(7, "Questo e' un test per l' invalid"..., 51, 0, NULL, NULL) = 51
13503 write(1, "Messaggio size: '51', 'Questo e'"..., 76) = 76
13503 write(1, "Buffer: Questo e' un test per l'"..., 62) = 62
13503 write(1, "Scritti 51 dati nel file. \n", 27) = 27
13503 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13503 write(1, "[Close] Trovato client, gli invi"..., 45) = 45
13503 write(1, "Socketid:7, processo: 13497\n", 28) = 28
13503 kill(13497, SIGUSR1)              = 0
13497 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13503 write(1, "Mandato segnale![closeClientSess"..., 74 <unfinished ...>
13497 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=13503, si_uid=1000} ---
13503 <... write resumed> )             = 74
13497 write(1, "received SIGUSR1\n", 17 <unfinished ...>
13503 lseek(6, -110, SEEK_CUR <unfinished ...>
13497 <... write resumed> )             = 17
13503 <... lseek resumed> )             = 0
13497 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13503 write(6, "Questo e' un test per l' invalid"..., 51) = 51
13503 close(6)                          = 0
13503 munmap(0x7f0d3c4cd000, 4096)      = 0
13503 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13497 <... futex resumed> )             = 0
13503 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13497 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13503 <... write resumed> )             = 51
13497 <... futex resumed> )             = 0
13503 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13497 sendto(7, "INVA", 4, 0, NULL, 0 <unfinished ...>
13503 <... write resumed> )             = 43
13503 close(5 <unfinished ...>
13497 <... sendto resumed> )            = 4
13503 <... close resumed> )             = 0
13497 rt_sigreturn( <unfinished ...>
13503 write(1, "\n\n", 2 <unfinished ...>
13497 <... rt_sigreturn resumed> )      = 45
13503 <... write resumed> )             = 2
13497 recvfrom(5,  <unfinished ...>
13503 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13503 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13503 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13503 exit_group(0)                     = ?
13537 +++ exited with 0 +++
13503 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 747472831}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13503, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13541
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13541 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13541 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13541 getppid()                         = 13457
13541 write(1, "[spawnProcess] - Mio pid: 13541,"..., 49) = 49
13541 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13497 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13497 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13497 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13497 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13497 write(1, "pos = 0\n", 8)          = 8
13497 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13497 write(1, "[READ] File aperto correttamente"..., 35) = 35
13497 lseek(6, 0, SEEK_SET)             = 0
13497 read(6, "Questo e' un test per l' invalid"..., 61440) = 110
13497 read(6, "", 61440)                = 0
13497 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13497 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13497 write(1, "'\n", 2)                = 2
13497 write(1, "[READ] Invio file...\n", 21) = 21
13497 write(5, "size 110\0", 9)         = 9
13497 write(1, "Transfer socket: '7'\n", 21) = 21
13497 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13497 write(1, "\n\n", 2)               = 2
13497 recvfrom(5, "CLO 0\n\0\0\0\23@\0\0\0\0\0p\26\fh\376\177\0\0\0\0\0\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13497 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13497 write(1, "'\n", 2)                = 2
13497 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13497 write(1, "[closeClientSession] - individua"..., 58) = 58
13497 close(6)                          = 0
13497 munmap(0x7f0d3c4cd000, 4096)      = 0
13497 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13497 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13497 close(5)                          = 0
13497 write(1, "\n\n", 2)               = 2
13497 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13497 exit_group(0)                     = ?
13497 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 749448013}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13497, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13550
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13550 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13550 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13550 getppid()                         = 13457
13550 write(1, "[spawnProcess] - Mio pid: 13550,"..., 49) = 49
13550 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13515 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49113), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13515 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13516 <... futex resumed> )             = 0
13516 accept(4,  <unfinished ...>
13515 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13515 recvfrom(5, "OPE file.txt 1\n\0", 99, 0, NULL, NULL) = 16
13515 write(1, "[handleSocket] - Client:'OPE fil"..., 40) = 40
13515 write(1, "'\n", 2)                = 2
13515 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13515 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13515 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13515 access("/tmp/file.txt", F_OK)     = 0
13515 open("/tmp/file.txt", O_RDWR)     = 6
13515 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13515 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13515 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13515 lseek(6, 0, SEEK_SET)             = 0
13515 read(6, "CIAO MONDO SONO UN FILE DI TEST!"..., 110) = 110
13515 lseek(6, 110, SEEK_SET)           = 110
13515 sendto(5, "110", 3, 0, NULL, 0)   = 3
13515 recvfrom(5, "port_num 41490", 15, 0, NULL, NULL) = 14
13515 getpeername(5, {sa_family=AF_INET, sin_port=htons(49113), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13515 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13515 connect(7, {sa_family=AF_INET, sin_port=htons(41490), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13515 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13515 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13515 write(1, " Filename: file.txt,\n", 21) = 21
13515 write(1, " Modo: 1,\n", 10)       = 10
13516 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49115), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13516 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13525 <... futex resumed> )             = 0
13516 <... futex resumed> )             = 1
13525 accept(4,  <unfinished ...>
13516 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13515 write(1, " Socket: 5,\n", 12 <unfinished ...>
13516 <... write resumed> )             = 42
13515 <... write resumed> )             = 12
13516 recvfrom(5,  <unfinished ...>
13515 write(1, " HB: 7,\n", 8 <unfinished ...>
13516 <... recvfrom resumed> "OPE file.txt 4\n\0", 99, 0, NULL, NULL) = 16
13515 <... write resumed> )             = 8
13516 write(1, "[handleSocket] - Client:'OPE fil"..., 40 <unfinished ...>
13515 write(1, " ptid: 13515.\n", 14 <unfinished ...>
13516 <... write resumed> )             = 40
13515 <... write resumed> )             = 14
13516 write(1, "'\n", 2 <unfinished ...>
13515 write(1, "]\n\n", 3 <unfinished ...>
13516 <... write resumed> )             = 2
13515 <... write resumed> )             = 3
13516 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13516 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13516 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 90) = 90
13515 recvfrom(5,  <unfinished ...>
13516 access("/tmp/file.txt", F_OK)     = 0
13516 open("/tmp/file.txt", O_RDWR)     = 6
13516 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13516 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13516 fstat(6, {st_mode=S_IFREG|0644, st_size=110, ...}) = 0
13516 lseek(6, 0, SEEK_SET)             = 0
13516 read(6, "CIAO MONDO SONO UN FILE DI TEST!"..., 110) = 110
13516 lseek(6, 110, SEEK_SET)           = 110
13516 sendto(5, "110", 3, 0, NULL, 0)   = 3
13516 recvfrom(5, "port_num 41727", 15, 0, NULL, NULL) = 14
13516 getpeername(5, {sa_family=AF_INET, sin_port=htons(49115), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13516 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13516 connect(7, {sa_family=AF_INET, sin_port=htons(41727), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13516 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13516 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13516 clone( <unfinished ...>
13660 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13516 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13660
13660 <... set_robust_list resumed> )   = 0
13516 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13660 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13516 <... sendto resumed> )            = 2
13660 <... write resumed> )             = 26
13660 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13516 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13660 <... futex resumed> )             = 0
13516 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13660 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13516 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13660 <... write resumed> )             = 49
13660 write(1, " Filename: file.txt,\n", 21) = 21
13660 write(1, " Modo: 4,\n", 10)       = 10
13660 write(1, " Socket: 5,\n", 12)     = 12
13660 write(1, " HB: 7,\n", 8)          = 8
13660 write(1, " ptid: 13516.\n", 14)   = 14
13660 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13516 <... futex resumed> )             = 0
13660 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13516 write(1, "][OpenCommand] Connessione creat"..., 50) = 50
13516 write(1, " Filename: file.txt,\n", 21) = 21
13516 write(1, " Modo: 4,\n", 10)       = 10
13516 write(1, " Socket: 5,\n", 12)     = 12
13516 write(1, " HB: 7,\n", 8)          = 8
13516 write(1, " ptid: 13516.\n", 14)   = 14
13516 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13660 <... futex resumed> )             = 0
13516 <... futex resumed> )             = 1
13660 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13516 write(1, "]\n\n", 3)              = 3
13516 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13660 <... futex resumed> )             = 0
13516 <... futex resumed> )             = 1
13660 write(1, "Tempsd: 7, ptid: 13516\n", 23 <unfinished ...>
13516 recvfrom(5,  <unfinished ...>
13660 <... write resumed> )             = 23
13515 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13660 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13515 write(1, "[handleSocket] - Client:'REA 0'\n", 32 <unfinished ...>
13660 <... futex resumed> )             = 0
13515 <... write resumed> )             = 32
13660 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13515 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13660 <... setsockopt resumed> )        = 0
13515 <... write resumed> )             = 40
13660 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13515 write(1, "[READ]: Ricevuta richiesta read."..., 49 <unfinished ...>
13660 <... rt_sigprocmask resumed> [], 8) = 0
13515 <... write resumed> )             = 49
13660 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13515 write(1, "pos = 0\n", 8 <unfinished ...>
13660 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13515 <... write resumed> )             = 8
13660 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13515 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40 <unfinished ...>
13660 <... rt_sigprocmask resumed> NULL, 8) = 0
13515 <... write resumed> )             = 40
13660 nanosleep({1, 0},  <unfinished ...>
13515 write(1, "[READ] File aperto correttamente"..., 35) = 35
13515 lseek(6, 110, SEEK_SET)           = 110
13515 read(6, "", 61440)                = 0
13515 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13515 write(1, "[READ] Contenuto letto: 'CIAO MO"..., 135) = 135
13515 write(1, "'\n", 2)                = 2
13515 write(1, "[READ] Invio file...\n", 21) = 21
13515 write(5, "size 110\0", 9)         = 9
13515 write(1, "Transfer socket: '7'\n", 21) = 21
13515 write(5, "CIAO MONDO SONO UN FILE DI TEST!"..., 110) = 110
13515 write(1, "\n\n", 2)               = 2
13515 recvfrom(5,  <unfinished ...>
13516 <... recvfrom resumed> "CLO 1\n\0\0\0\0\0\0\0\0\0\0\320\226\4\323\376\177\0\0\370=@\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13516 write(1, "[handleSocket] - Client:'CLO 1\n", 31) = 31
13516 write(1, "'\n", 2)                = 2
13516 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13516 write(1, "HandleWrites: 1 numero di cambia"..., 40) = 40
13516 recvfrom(7, "POS 0 SIZE 51\n\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"..., 100, 0, NULL, NULL) = 100
13516 write(1, "Messaggio: 100 dati,  'POS 0 SIZ"..., 37) = 37
13516 write(1, "'\n", 2)                = 2
13516 lseek(6, 110, SEEK_SET)           = 110
13516 write(1, "Ricevo dati:\n", 13)    = 13
13516 recvfrom(7, "Questo e' un test per l' invalid"..., 51, 0, NULL, NULL) = 51
13516 write(1, "Messaggio size: '51', 'Questo e'"..., 76) = 76
13516 write(1, "Buffer: Questo e' un test per l'"..., 62) = 62
13516 write(1, "Scritti 51 dati nel file. \n", 27) = 27
13516 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13516 write(1, "[Close] Trovato client, gli invi"..., 45) = 45
13516 write(1, "Socketid:7, processo: 13515\n", 28) = 28
13516 kill(13515, SIGUSR1)              = 0
13515 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13516 write(1, "Mandato segnale![closeClientSess"..., 74 <unfinished ...>
13515 --- SIGUSR1 {si_signo=SIGUSR1, si_code=SI_USER, si_pid=13516, si_uid=1000} ---
13516 <... write resumed> )             = 74
13516 lseek(6, -110, SEEK_CUR <unfinished ...>
13515 write(1, "received SIGUSR1\n", 17 <unfinished ...>
13516 <... lseek resumed> )             = 0
13516 write(6, "Questo e' un test per l' invalid"..., 51) = 51
13515 <... write resumed> )             = 17
13516 close(6 <unfinished ...>
13515 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13516 <... close resumed> )             = 0
13516 munmap(0x7f0d3c4cd000, 4096)      = 0
13516 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13515 <... futex resumed> )             = 0
13516 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13515 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13516 <... write resumed> )             = 51
13515 <... futex resumed> )             = 0
13516 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13515 sendto(7, "INVA", 4, 0, NULL, 0 <unfinished ...>
13516 <... write resumed> )             = 43
13516 close(5)                          = 0
13516 write(1, "\n\n", 2)               = 2
13515 <... sendto resumed> )            = 4
13516 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13515 rt_sigreturn( <unfinished ...>
13516 <... write resumed> )             = 51
13515 <... rt_sigreturn resumed> )      = 45
13516 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13515 recvfrom(5,  <unfinished ...>
13516 <... write resumed> )             = 43
13516 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13516 exit_group(0)                     = ?
13660 +++ exited with 0 +++
13516 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 407949620}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13516, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13669
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13669 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13669 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13669 getppid()                         = 13457
13669 write(1, "[spawnProcess] - Mio pid: 13669,"..., 49) = 49
13669 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13515 <... recvfrom resumed> "REA 0\n", 99, 0, NULL, NULL) = 6
13515 write(1, "[handleSocket] - Client:'REA 0'\n", 32) = 32
13515 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13515 write(1, "[READ]: Ricevuta richiesta read."..., 49) = 49
13515 write(1, "pos = 0\n", 8)          = 8
13515 write(1, "[READ] Provo ad aprire: '/tmp/fi"..., 40) = 40
13515 write(1, "[READ] File aperto correttamente"..., 35) = 35
13515 lseek(6, 0, SEEK_SET)             = 0
13515 read(6, "Questo e' un test per l' invalid"..., 61440) = 110
13515 read(6, "", 61440)                = 0
13515 write(1, "[READ] Bytes letti: 110 \n", 25) = 25
13515 write(1, "[READ] Contenuto letto: 'Questo "..., 135) = 135
13515 write(1, "'\n", 2)                = 2
13515 write(1, "[READ] Invio file...\n", 21) = 21
13515 write(5, "size 110\0", 9)         = 9
13515 write(1, "Transfer socket: '7'\n", 21) = 21
13515 write(5, "Questo e' un test per l' invalid"..., 110) = 110
13515 write(1, "\n\n", 2)               = 2
13515 recvfrom(5, "CLO 0\n\0\0\0\23@\0\0\0\0\0P\231\4\323\376\177\0\0\0\0\0\0\0\0\0\0"..., 99, 0, NULL, NULL) = 99
13515 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13515 write(1, "'\n", 2)                = 2
13515 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13515 write(1, "[closeClientSession] - individua"..., 58) = 58
13515 close(6)                          = 0
13515 munmap(0x7f0d3c4cd000, 4096)      = 0
13515 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13515 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13515 close(5)                          = 0
13515 write(1, "\n\n", 2)               = 2
13515 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13515 exit_group(0)                     = ?
13515 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 407465737}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13515, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13678
13678 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13678 getppid()                         = 13457
13457 <... rt_sigprocmask resumed> [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13678 write(1, "[spawnProcess] - Mio pid: 13678,"..., 49 <unfinished ...>
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13678 <... write resumed> )             = 49
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13678 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13525 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49117), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13525 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13541 <... futex resumed> )             = 0
13525 <... futex resumed> )             = 1
13541 accept(4,  <unfinished ...>
13525 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13525 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13525 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13525 write(1, "'\n", 2)                = 2
13525 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13525 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13525 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13525 access("/tmp/prova/file.txt", F_OK) = 0
13525 open("/tmp/prova/file.txt", O_RDWR) = 6
13525 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13525 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13525 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13525 lseek(6, 0, SEEK_SET)             = 0
13525 read(6, "CIAO MONDO.\n", 12)      = 12
13525 lseek(6, 12, SEEK_SET)            = 12
13525 sendto(5, "12", 2, 0, NULL, 0)    = 2
13525 recvfrom(5, "port_num 42715", 15, 0, NULL, NULL) = 14
13525 getpeername(5, {sa_family=AF_INET, sin_port=htons(49117), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13525 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13525 connect(7, {sa_family=AF_INET, sin_port=htons(42715), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13525 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13525 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13525 write(1, " Filename: prova/file.txt,\n", 27) = 27
13525 write(1, " Modo: 1,\n", 10)       = 10
13525 write(1, " Socket: 5,\n", 12)     = 12
13525 write(1, " HB: 7,\n", 8 <unfinished ...>
13541 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49119), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13525 <... write resumed> )             = 8
13541 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13550 <... futex resumed> )             = 0
13541 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13550 accept(4,  <unfinished ...>
13541 <... write resumed> )             = 42
13525 write(1, " ptid: 13525.\n", 14 <unfinished ...>
13541 recvfrom(5,  <unfinished ...>
13525 <... write resumed> )             = 14
13541 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13525 write(1, "]\n\n", 3 <unfinished ...>
13541 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13525 <... write resumed> )             = 3
13541 <... write resumed> )             = 46
13525 recvfrom(5,  <unfinished ...>
13541 write(1, "'\n", 2 <unfinished ...>
13525 <... recvfrom resumed> "CLO 0\n\0\0\20Ph\1\0\0\0\0\0\0\0\0\0\0\0\0\0\327.\235\361\177\0\0"..., 99, 0, NULL, NULL) = 99
13541 <... write resumed> )             = 2
13525 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13541 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13525 <... write resumed> )             = 31
13541 <... write resumed> )             = 40
13525 write(1, "'\n", 2 <unfinished ...>
13541 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13525 <... write resumed> )             = 2
13541 <... write resumed> )             = 45
13525 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13541 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13525 <... write resumed> )             = 41
13541 <... write resumed> )             = 96
13525 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13541 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13525 <... write resumed> )             = 64
13525 close(6)                          = 0
13525 munmap(0x7f0d3c4cd000, 4096)      = 0
13525 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13541 <... futex resumed> )             = 0
13525 <... futex resumed> )             = 1
13541 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13525 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13541 <... access resumed> )            = 0
13541 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13525 <... futex resumed> )             = 0
13525 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13541 open("/tmp/prova/file.txt", O_RDWR) = 6
13541 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13525 <... futex resumed> )             = 0
13541 fstat(6,  <unfinished ...>
13525 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13541 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13525 <... futex resumed> )             = 0
13541 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13525 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13541 <... mmap resumed> )              = 0x7f0d3c4cd000
13541 fstat(6,  <unfinished ...>
13525 <... write resumed> )             = 51
13541 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13525 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13541 lseek(6, 0, SEEK_SET <unfinished ...>
13525 <... write resumed> )             = 43
13541 <... lseek resumed> )             = 0
13525 close(5 <unfinished ...>
13541 read(6, "CIAO MONDO.\n", 12)      = 12
13525 <... close resumed> )             = 0
13541 lseek(6, 12, SEEK_SET <unfinished ...>
13525 write(1, "\n\n", 2 <unfinished ...>
13541 <... lseek resumed> )             = 12
13525 <... write resumed> )             = 2
13541 sendto(5, "12", 2, 0, NULL, 0 <unfinished ...>
13525 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13541 <... sendto resumed> )            = 2
13541 recvfrom(5, "port_num 37149", 15, 0, NULL, NULL) = 14
13525 <... write resumed> )             = 51
13541 getpeername(5,  <unfinished ...>
13525 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13541 <... getpeername resumed> {sa_family=AF_INET, sin_port=htons(49119), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13525 <... write resumed> )             = 43
13541 socket(PF_INET, SOCK_STREAM, IPPROTO_IP <unfinished ...>
13525 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13541 <... socket resumed> )            = 7
13525 <... write resumed> )             = 40
13541 connect(7, {sa_family=AF_INET, sin_port=htons(37149), sin_addr=inet_addr("127.0.0.1")}, 16 <unfinished ...>
13525 exit_group(0)                     = ?
13541 <... connect resumed> )           = 0
13541 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13541 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE <unfinished ...>
13525 +++ exited with 0 +++
13541 <... mprotect resumed> )          = 0
13457 <... nanosleep resumed> {0, 871085297}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13541 clone( <unfinished ...>
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13525, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13702 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13541 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13702
13702 <... set_robust_list resumed> )   = 0
13541 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13702 write(1, "[Spawining HeartBeating] \n", 26) = 26
13541 <... sendto resumed> )            = 2
13702 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13702 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13541 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13702 <... write resumed> )             = 27
13702 write(1, " Modo: 2,\n", 10)       = 10
13702 write(1, " Socket: 5,\n", 12)     = 12
13702 write(1, " HB: 7,\n", 8)          = 8
13702 write(1, " ptid: 13541.\n", 14)   = 14
13550 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49121), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13702 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13550 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13702 write(1, "]Tempsd: 7, ptid: 13541\n", 24 <unfinished ...>
13541 <... futex resumed> )             = 0
13702 <... write resumed> )             = 24
13669 <... futex resumed> )             = 0
13702 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13550 <... futex resumed> )             = 1
13702 <... futex resumed> )             = 0
13669 accept(4,  <unfinished ...>
13702 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13550 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13702 <... setsockopt resumed> )        = 0
13541 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13702 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13550 <... write resumed> )             = 42
13702 <... rt_sigprocmask resumed> [], 8) = 0
13550 recvfrom(5,  <unfinished ...>
13702 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13550 <... recvfrom resumed> "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13702 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13550 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13702 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13550 <... write resumed> )             = 46
13702 <... rt_sigprocmask resumed> NULL, 8) = 0
13550 write(1, "'\n", 2 <unfinished ...>
13702 nanosleep({1, 0},  <unfinished ...>
13550 <... write resumed> )             = 2
13541 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13550 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13541 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13550 <... write resumed> )             = 40
13541 <... write resumed> )             = 49
13550 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13550 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13541 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13550 <... write resumed> )             = 36
13541 <... write resumed> )             = 27
13550 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13541 write(1, " Modo: 2,\n", 10 <unfinished ...>
13550 <... write resumed> )             = 30
13541 <... write resumed> )             = 10
13550 write(1, "[appendOpenedFile] - Non posso f"..., 42 <unfinished ...>
13541 write(1, " Socket: 5,\n", 12 <unfinished ...>
13550 <... write resumed> )             = 42
13541 <... write resumed> )             = 12
13550 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13541 write(1, " HB: 7,\n", 8 <unfinished ...>
13550 <... sendto resumed> )            = 3
13541 <... write resumed> )             = 8
13550 write(1, "Errore nell' apertura del file ("..., 54 <unfinished ...>
13541 write(1, " ptid: 13541.\n", 14 <unfinished ...>
13550 <... write resumed> )             = 54
13541 <... write resumed> )             = 14
13550 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13541 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13550 <... write resumed> )             = 51
13541 <... futex resumed> )             = 0
13550 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13541 write(1, "]\n\n", 3 <unfinished ...>
13550 <... write resumed> )             = 43
13541 <... write resumed> )             = 3
13550 close(5 <unfinished ...>
13541 recvfrom(5,  <unfinished ...>
13550 <... close resumed> )             = 0
13550 write(1, "\n\n", 2 <unfinished ...>
13541 <... recvfrom resumed> "CLO 0\n\0\0\20Ph\1\0\0\0\0\0\0\0\0\0\0\0\0\0\307\256\234\361\177\0\0"..., 99, 0, NULL, NULL) = 99
13550 <... write resumed> )             = 2
13541 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13541 write(1, "'\n", 2)                = 2
13541 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13541 write(1, "HandleWrites: 0 numero di cambia"..., 40) = 40
13541 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13541 write(1, "[closeClientSession] - individua"..., 64) = 64
13541 close(6)                          = 0
13541 munmap(0x7f0d3c4cd000, 4096)      = 0
13541 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13541 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13541 close(5)                          = 0
13541 write(1, "\n\n", 2)               = 2
13541 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13541 exit_group(0)                     = ?
13702 +++ exited with 0 +++
13541 +++ exited with 0 +++
13550 recvfrom(5,  <unfinished ...>
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13550 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13541, si_status=0, si_utime=0, si_stime=0} ---
13550 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13550 <... write resumed> )             = 40
13550 exit_group(0)                     = ?
13550 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13550, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13711
13457 clone( <unfinished ...>
13711 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13712
13457 clone( <unfinished ...>
13712 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13711 getppid( <unfinished ...>
13712 <... set_robust_list resumed> )   = 0
13711 <... getppid resumed> )           = 13457
13711 write(1, "[spawnProcess] - Mio pid: 13711,"..., 49 <unfinished ...>
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13713
13712 getppid( <unfinished ...>
13711 <... write resumed> )             = 49
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13713 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13713 <... set_robust_list resumed> )   = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13712 <... getppid resumed> )           = 13457
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13711 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13713 getppid( <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13713 <... getppid resumed> )           = 13457
13457 nanosleep({2, 0},  <unfinished ...>
13712 write(1, "[spawnProcess] - Mio pid: 13712,"..., 49 <unfinished ...>
13713 write(1, "[spawnProcess] - Mio pid: 13713,"..., 49 <unfinished ...>
13712 <... write resumed> )             = 49
13713 <... write resumed> )             = 49
13712 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13713 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13669 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49122), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13669 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13678 <... futex resumed> )             = 0
13669 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13678 accept(4,  <unfinished ...>
13669 <... write resumed> )             = 42
13669 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13669 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13669 write(1, "'\n", 2)                = 2
13669 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13669 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13669 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13669 access("/tmp/prova/file.txt", F_OK) = 0
13669 open("/tmp/prova/file.txt", O_RDWR) = 6
13669 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13669 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13669 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13669 lseek(6, 0, SEEK_SET)             = 0
13669 read(6, "CIAO MONDO.\n", 12)      = 12
13669 lseek(6, 12, SEEK_SET)            = 12
13669 sendto(5, "12", 2, 0, NULL, 0)    = 2
13669 recvfrom(5, "port_num 59641", 15, 0, NULL, NULL) = 14
13669 getpeername(5, {sa_family=AF_INET, sin_port=htons(49122), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13669 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13669 connect(7, {sa_family=AF_INET, sin_port=htons(59641), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13669 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13669 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13669 write(1, " Filename: prova/file.txt,\n", 27) = 27
13669 write(1, " Modo: 1,\n", 10)       = 10
13669 write(1, " Socket: 5,\n", 12)     = 12
13669 write(1, " HB: 7,\n", 8 <unfinished ...>
13678 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49124), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13678 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13669 <... write resumed> )             = 8
13678 <... futex resumed> )             = 1
13711 <... futex resumed> )             = 0
13678 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13711 accept(4,  <unfinished ...>
13678 <... write resumed> )             = 42
13669 write(1, " ptid: 13669.\n", 14 <unfinished ...>
13678 recvfrom(5,  <unfinished ...>
13669 <... write resumed> )             = 14
13678 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13669 write(1, "]\n\n", 3 <unfinished ...>
13678 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13669 <... write resumed> )             = 3
13678 <... write resumed> )             = 46
13669 recvfrom(5,  <unfinished ...>
13678 write(1, "'\n", 2 <unfinished ...>
13669 <... recvfrom resumed> "CLO 0\n\0\0\20`\361\0\0\0\0\0\0\0\0\0\0\0\0\0\0\327\277\3477\177\0\0"..., 99, 0, NULL, NULL) = 99
13678 <... write resumed> )             = 2
13669 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13678 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13669 <... write resumed> )             = 31
13678 <... write resumed> )             = 40
13669 write(1, "'\n", 2 <unfinished ...>
13678 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13669 <... write resumed> )             = 2
13678 <... write resumed> )             = 45
13669 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13678 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13669 <... write resumed> )             = 41
13678 <... write resumed> )             = 96
13669 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13678 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13669 <... write resumed> )             = 64
13669 close(6)                          = 0
13669 munmap(0x7f0d3c4cd000, 4096)      = 0
13669 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13678 <... futex resumed> )             = 0
13669 <... futex resumed> )             = 1
13678 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13669 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13678 <... access resumed> )            = 0
13678 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13669 <... futex resumed> )             = 0
13669 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13678 open("/tmp/prova/file.txt", O_RDWR) = 6
13678 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13669 <... futex resumed> )             = 0
13678 fstat(6,  <unfinished ...>
13669 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13678 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13669 <... futex resumed> )             = 0
13678 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13669 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13678 <... mmap resumed> )              = 0x7f0d3c4cd000
13669 <... write resumed> )             = 51
13678 fstat(6,  <unfinished ...>
13669 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13678 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13669 <... write resumed> )             = 43
13678 lseek(6, 0, SEEK_SET <unfinished ...>
13669 close(5 <unfinished ...>
13678 <... lseek resumed> )             = 0
13678 read(6,  <unfinished ...>
13669 <... close resumed> )             = 0
13678 <... read resumed> "CIAO MONDO.\n", 12) = 12
13669 write(1, "\n\n", 2 <unfinished ...>
13678 lseek(6, 12, SEEK_SET <unfinished ...>
13669 <... write resumed> )             = 2
13678 <... lseek resumed> )             = 12
13669 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13678 sendto(5, "12", 2, 0, NULL, 0 <unfinished ...>
13669 <... write resumed> )             = 51
13678 <... sendto resumed> )            = 2
13669 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13678 recvfrom(5,  <unfinished ...>
13669 <... write resumed> )             = 43
13669 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13678 <... recvfrom resumed> "port_num 37277", 15, 0, NULL, NULL) = 14
13669 <... write resumed> )             = 40
13678 getpeername(5, {sa_family=AF_INET, sin_port=htons(49124), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13669 exit_group(0)                     = ?
13678 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13678 connect(7, {sa_family=AF_INET, sin_port=htons(37277), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13678 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0 <unfinished ...>
13669 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 964743347}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13678 <... mmap resumed> )              = 0x7f0d3b4cd000
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13669, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13678 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13678 clone(child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13720
13720 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13678 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13720 <... set_robust_list resumed> )   = 0
13720 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13678 <... sendto resumed> )            = 2
13720 <... write resumed> )             = 26
13678 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13720 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 0
13678 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13720 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13678 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13720 <... write resumed> )             = 49
13720 write(1, " Filename: prova/file.txt,\n", 27) = 27
13720 write(1, " Modo: 2,\n", 10)       = 10
13720 write(1, " Socket: 5,\n", 12 <unfinished ...>
13711 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49126), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13720 <... write resumed> )             = 12
13711 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13720 write(1, " HB: 7,\n", 8 <unfinished ...>
13712 <... futex resumed> )             = 0
13711 <... futex resumed> )             = 1
13720 <... write resumed> )             = 8
13712 accept(4,  <unfinished ...>
13720 write(1, " ptid: 13678.\n", 14 <unfinished ...>
13711 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13720 <... write resumed> )             = 14
13711 <... write resumed> )             = 42
13720 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13711 recvfrom(5,  <unfinished ...>
13720 <... futex resumed> )             = 1
13711 <... recvfrom resumed> "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13720 write(1, "]Tempsd: 7, ptid: 13678\n", 24 <unfinished ...>
13711 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13678 <... futex resumed> )             = 0
13711 <... write resumed> )             = 46
13720 <... write resumed> )             = 24
13711 write(1, "'\n", 2 <unfinished ...>
13720 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13678 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13720 <... futex resumed> )             = 0
13711 <... write resumed> )             = 2
13720 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13678 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13711 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13720 <... setsockopt resumed> )        = 0
13678 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13720 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13711 <... write resumed> )             = 40
13720 <... rt_sigprocmask resumed> [], 8) = 0
13678 <... write resumed> )             = 49
13711 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13720 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13678 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13720 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13711 <... write resumed> )             = 45
13720 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13711 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13720 <... rt_sigprocmask resumed> NULL, 8) = 0
13678 <... write resumed> )             = 27
13720 nanosleep({1, 0},  <unfinished ...>
13711 <... write resumed> )             = 36
13678 write(1, " Modo: 2,\n", 10 <unfinished ...>
13711 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13678 <... write resumed> )             = 10
13711 <... write resumed> )             = 30
13678 write(1, " Socket: 5,\n", 12 <unfinished ...>
13711 write(1, "[appendOpenedFile] - Non posso f"..., 42 <unfinished ...>
13678 <... write resumed> )             = 12
13711 <... write resumed> )             = 42
13678 write(1, " HB: 7,\n", 8 <unfinished ...>
13711 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13678 <... write resumed> )             = 8
13711 <... sendto resumed> )            = 3
13678 write(1, " ptid: 13678.\n", 14 <unfinished ...>
13711 write(1, "Errore nell' apertura del file ("..., 54 <unfinished ...>
13678 <... write resumed> )             = 14
13711 <... write resumed> )             = 54
13678 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13711 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13678 <... futex resumed> )             = 0
13678 write(1, "]\n\n", 3 <unfinished ...>
13711 <... write resumed> )             = 51
13711 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13711 close(5 <unfinished ...>
13678 <... write resumed> )             = 3
13678 recvfrom(5,  <unfinished ...>
13711 <... close resumed> )             = 0
13678 <... recvfrom resumed> "CLO 0\n\0\0\20`\361\0\0\0\0\0\0\0\0\0\0\0\0\0\0\307?\3477\177\0\0"..., 99, 0, NULL, NULL) = 99
13711 write(1, "\n\n", 2 <unfinished ...>
13678 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13711 <... write resumed> )             = 2
13711 recvfrom(5,  <unfinished ...>
13678 <... write resumed> )             = 31
13711 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13678 write(1, "'\n", 2 <unfinished ...>
13711 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13678 <... write resumed> )             = 2
13711 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13678 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13711 <... write resumed> )             = 43
13711 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13678 <... write resumed> )             = 41
13711 <... write resumed> )             = 40
13678 write(1, "HandleWrites: 0 numero di cambia"..., 40) = 40
13711 exit_group(0)                     = ?
13678 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13678 write(1, "[closeClientSession] - individua"..., 64) = 64
13711 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13678 close(6 <unfinished ...>
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13711, si_status=0, si_utime=0, si_stime=0} ---
13678 <... close resumed> )             = 0
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13678 munmap(0x7f0d3c4cd000, 4096)      = 0
13678 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13678 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13678 close(5)                          = 0
13678 write(1, "\n\n", 2)               = 2
13678 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13678 exit_group(0)                     = ?
13720 +++ exited with 0 +++
13678 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13678, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13729
13457 clone( <unfinished ...>
13729 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13730
13729 getppid()                         = 13457
13457 clone( <unfinished ...>
13730 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13729 write(1, "[spawnProcess] - Mio pid: 13729,"..., 49 <unfinished ...>
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13731
13730 <... set_robust_list resumed> )   = 0
13729 <... write resumed> )             = 49
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13731 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13731 <... set_robust_list resumed> )   = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13730 getppid( <unfinished ...>
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13730 <... getppid resumed> )           = 13457
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13729 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13731 getppid( <unfinished ...>
13457 nanosleep({2, 0},  <unfinished ...>
13731 <... getppid resumed> )           = 13457
13730 write(1, "[spawnProcess] - Mio pid: 13730,"..., 49) = 49
13731 write(1, "[spawnProcess] - Mio pid: 13731,"..., 49 <unfinished ...>
13730 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13731 <... write resumed> )             = 49
13731 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13712 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49127), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13712 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13713 <... futex resumed> )             = 0
13712 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13713 accept(4,  <unfinished ...>
13712 <... write resumed> )             = 42
13712 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13712 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13712 write(1, "'\n", 2)                = 2
13712 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13712 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13712 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13712 access("/tmp/prova/file.txt", F_OK) = 0
13712 open("/tmp/prova/file.txt", O_RDWR) = 6
13712 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13712 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13712 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13712 lseek(6, 0, SEEK_SET)             = 0
13712 read(6, "CIAO MONDO.\n", 12)      = 12
13712 lseek(6, 12, SEEK_SET)            = 12
13712 sendto(5, "12", 2, 0, NULL, 0)    = 2
13712 recvfrom(5, "port_num 39617", 15, 0, NULL, NULL) = 14
13712 getpeername(5, {sa_family=AF_INET, sin_port=htons(49127), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13712 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13712 connect(7, {sa_family=AF_INET, sin_port=htons(39617), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13712 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13712 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13712 write(1, " Filename: prova/file.txt,\n", 27) = 27
13712 write(1, " Modo: 1,\n", 10)       = 10
13712 write(1, " Socket: 5,\n", 12)     = 12
13712 write(1, " HB: 7,\n", 8 <unfinished ...>
13713 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49129), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13712 <... write resumed> )             = 8
13713 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13712 write(1, " ptid: 13712.\n", 14 <unfinished ...>
13713 <... futex resumed> )             = 1
13729 <... futex resumed> )             = 0
13713 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13729 accept(4,  <unfinished ...>
13713 <... write resumed> )             = 42
13712 <... write resumed> )             = 14
13713 recvfrom(5,  <unfinished ...>
13712 write(1, "]\n\n", 3 <unfinished ...>
13713 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13712 <... write resumed> )             = 3
13713 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13712 recvfrom(5,  <unfinished ...>
13713 <... write resumed> )             = 46
13712 <... recvfrom resumed> "CLO 0\n\0\0\20 d\1\0\0\0\0\0\0\0\0\0\0\0\0\0\327B\3024\177\0\0"..., 99, 0, NULL, NULL) = 99
13713 write(1, "'\n", 2 <unfinished ...>
13712 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13713 <... write resumed> )             = 2
13712 <... write resumed> )             = 31
13713 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13712 write(1, "'\n", 2 <unfinished ...>
13713 <... write resumed> )             = 40
13712 <... write resumed> )             = 2
13713 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13712 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13713 <... write resumed> )             = 45
13712 <... write resumed> )             = 41
13713 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13712 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13713 <... write resumed> )             = 96
13712 <... write resumed> )             = 64
13713 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13712 close(6)                          = 0
13712 munmap(0x7f0d3c4cd000, 4096)      = 0
13712 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13713 <... futex resumed> )             = 0
13712 <... futex resumed> )             = 1
13713 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13712 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13713 <... access resumed> )            = 0
13713 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13712 <... futex resumed> )             = 0
13712 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13713 open("/tmp/prova/file.txt", O_RDWR) = 6
13713 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1) = 1
13712 <... futex resumed> )             = 0
13713 fstat(6,  <unfinished ...>
13712 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13713 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13712 <... futex resumed> )             = 0
13713 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13712 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13713 <... mmap resumed> )              = 0x7f0d3c4cd000
13713 fstat(6,  <unfinished ...>
13712 <... write resumed> )             = 51
13713 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13712 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13713 lseek(6, 0, SEEK_SET <unfinished ...>
13712 <... write resumed> )             = 43
13713 <... lseek resumed> )             = 0
13712 close(5 <unfinished ...>
13713 read(6, "CIAO MONDO.\n", 12)      = 12
13712 <... close resumed> )             = 0
13713 lseek(6, 12, SEEK_SET <unfinished ...>
13712 write(1, "\n\n", 2 <unfinished ...>
13713 <... lseek resumed> )             = 12
13712 <... write resumed> )             = 2
13713 sendto(5, "12", 2, 0, NULL, 0 <unfinished ...>
13712 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13713 <... sendto resumed> )            = 2
13713 recvfrom(5, "port_num 48453", 15, 0, NULL, NULL) = 14
13712 <... write resumed> )             = 51
13713 getpeername(5,  <unfinished ...>
13712 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13713 <... getpeername resumed> {sa_family=AF_INET, sin_port=htons(49129), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13712 <... write resumed> )             = 43
13713 socket(PF_INET, SOCK_STREAM, IPPROTO_IP <unfinished ...>
13712 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13713 <... socket resumed> )            = 7
13712 <... write resumed> )             = 40
13713 connect(7, {sa_family=AF_INET, sin_port=htons(48453), sin_addr=inet_addr("127.0.0.1")}, 16 <unfinished ...>
13712 exit_group(0)                     = ?
13713 <... connect resumed> )           = 0
13713 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13713 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE <unfinished ...>
13712 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 876802897}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13713 <... mprotect resumed> )          = 0
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13712, si_status=0, si_utime=0, si_stime=0} ---
13713 clone( <unfinished ...>
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13737 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13713 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13737
13737 <... set_robust_list resumed> )   = 0
13713 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13737 write(1, "[Spawining HeartBeating] \n", 26) = 26
13713 <... sendto resumed> )            = 2
13737 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13713 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13737 <... write resumed> )             = 49
13737 write(1, " Filename: prova/file.txt,\n", 27) = 27
13737 write(1, " Modo: 2,\n", 10)       = 10
13737 write(1, " Socket: 5,\n", 12)     = 12
13729 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49131), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13737 write(1, " HB: 7,\n", 8 <unfinished ...>
13729 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13737 <... write resumed> )             = 8
13729 <... futex resumed> )             = 1
13737 write(1, " ptid: 13713.\n", 14 <unfinished ...>
13730 <... futex resumed> )             = 0
13737 <... write resumed> )             = 14
13730 accept(4,  <unfinished ...>
13737 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13729 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13737 <... futex resumed> )             = 1
13713 <... futex resumed> )             = 0
13737 write(1, "]Tempsd: 7, ptid: 13713\n", 24 <unfinished ...>
13729 <... write resumed> )             = 42
13737 <... write resumed> )             = 24
13713 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13737 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13729 recvfrom(5,  <unfinished ...>
13737 <... futex resumed> )             = 0
13729 <... recvfrom resumed> "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13737 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13729 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13737 <... setsockopt resumed> )        = 0
13713 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13737 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13729 <... write resumed> )             = 46
13737 <... rt_sigprocmask resumed> [], 8) = 0
13729 write(1, "'\n", 2 <unfinished ...>
13737 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13713 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13737 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13729 <... write resumed> )             = 2
13737 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13713 <... write resumed> )             = 49
13737 <... rt_sigprocmask resumed> NULL, 8) = 0
13729 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13737 nanosleep({1, 0},  <unfinished ...>
13713 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13729 <... write resumed> )             = 40
13729 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13713 <... write resumed> )             = 27
13729 <... write resumed> )             = 45
13713 write(1, " Modo: 2,\n", 10 <unfinished ...>
13729 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13713 <... write resumed> )             = 10
13729 <... write resumed> )             = 36
13713 write(1, " Socket: 5,\n", 12 <unfinished ...>
13729 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13713 <... write resumed> )             = 12
13729 <... write resumed> )             = 30
13713 write(1, " HB: 7,\n", 8 <unfinished ...>
13729 write(1, "[appendOpenedFile] - Non posso f"..., 42 <unfinished ...>
13713 <... write resumed> )             = 8
13729 <... write resumed> )             = 42
13713 write(1, " ptid: 13713.\n", 14 <unfinished ...>
13729 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13713 <... write resumed> )             = 14
13729 <... sendto resumed> )            = 3
13713 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13729 write(1, "Errore nell' apertura del file ("..., 54 <unfinished ...>
13713 <... futex resumed> )             = 0
13729 <... write resumed> )             = 54
13713 write(1, "]\n\n", 3 <unfinished ...>
13729 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13713 <... write resumed> )             = 3
13729 <... write resumed> )             = 51
13713 recvfrom(5,  <unfinished ...>
13729 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13713 <... recvfrom resumed> "CLO 0\n\0\0\20 d\1\0\0\0\0\0\0\0\0\0\0\0\0\0\307\302\3014\177\0\0"..., 99, 0, NULL, NULL) = 99
13729 <... write resumed> )             = 43
13713 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13729 close(5 <unfinished ...>
13713 <... write resumed> )             = 31
13729 <... close resumed> )             = 0
13713 write(1, "'\n", 2 <unfinished ...>
13729 write(1, "\n\n", 2 <unfinished ...>
13713 <... write resumed> )             = 2
13729 <... write resumed> )             = 2
13713 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13729 recvfrom(5, 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13713 <... write resumed> )             = 41
13729 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13713 write(1, "HandleWrites: 0 numero di cambia"..., 40 <unfinished ...>
13729 <... write resumed> )             = 51
13713 <... write resumed> )             = 40
13729 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13713 write(1, "[Close] Cerco client per messagg"..., 70 <unfinished ...>
13729 <... write resumed> )             = 43
13713 <... write resumed> )             = 70
13729 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13713 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13729 <... write resumed> )             = 40
13713 <... write resumed> )             = 64
13729 exit_group(0)                     = ?
13713 close(6)                          = 0
13713 munmap(0x7f0d3c4cd000, 4096)      = 0
13729 +++ exited with 0 +++
13713 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13729, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13713 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13713 close(5)                          = 0
13713 write(1, "\n\n", 2)               = 2
13713 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13713 exit_group(0)                     = ?
13737 +++ exited with 0 +++
13713 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13713, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13749
13457 clone( <unfinished ...>
13749 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13750
13749 getppid( <unfinished ...>
13750 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 clone( <unfinished ...>
13749 <... getppid resumed> )           = 13457
13750 getppid()                         = 13457
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13751
13749 write(1, "[spawnProcess] - Mio pid: 13749,"..., 49 <unfinished ...>
13750 write(1, "[spawnProcess] - Mio pid: 13750,"..., 49 <unfinished ...>
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13750 <... write resumed> )             = 49
13457 <... rt_sigprocmask resumed> [], 8) = 0
13750 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13749 <... write resumed> )             = 49
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13749 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13751 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 nanosleep({2, 0},  <unfinished ...>
13751 <... set_robust_list resumed> )   = 0
13751 getppid()                         = 13457
13751 write(1, "[spawnProcess] - Mio pid: 13751,"..., 49) = 49
13751 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13730 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49132), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13730 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13731 <... futex resumed> )             = 0
13730 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13731 accept(4,  <unfinished ...>
13730 <... write resumed> )             = 42
13730 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13730 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13730 write(1, "'\n", 2)                = 2
13730 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13730 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13730 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13730 access("/tmp/prova/file.txt", F_OK) = 0
13730 open("/tmp/prova/file.txt", O_RDWR) = 6
13730 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13730 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13730 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13730 lseek(6, 0, SEEK_SET)             = 0
13730 read(6, "CIAO MONDO.\n", 12)      = 12
13730 lseek(6, 12, SEEK_SET)            = 12
13730 sendto(5, "12", 2, 0, NULL, 0)    = 2
13730 recvfrom(5, "port_num 57849", 15, 0, NULL, NULL) = 14
13730 getpeername(5, {sa_family=AF_INET, sin_port=htons(49132), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13730 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13730 connect(7, {sa_family=AF_INET, sin_port=htons(57849), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13730 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13730 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13730 write(1, " Filename: prova/file.txt,\n", 27) = 27
13730 write(1, " Modo: 1,\n", 10)       = 10
13730 write(1, " Socket: 5,\n", 12)     = 12
13730 write(1, " HB: 7,\n", 8)          = 8
13730 write(1, " ptid: 13730.\n", 14 <unfinished ...>
13731 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49134), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13730 <... write resumed> )             = 14
13731 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13730 write(1, "]\n\n", 3 <unfinished ...>
13731 <... futex resumed> )             = 1
13730 <... write resumed> )             = 3
13750 <... futex resumed> )             = 0
13731 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13750 accept(4,  <unfinished ...>
13731 <... write resumed> )             = 42
13730 recvfrom(5,  <unfinished ...>
13731 recvfrom(5,  <unfinished ...>
13730 <... recvfrom resumed> "CLO 0\n\0\0\20\20\363\1\0\0\0\0\0\0\0\0\0\0\0\0\0\347\233r\340\177\0\0"..., 99, 0, NULL, NULL) = 99
13731 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13730 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13731 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13730 <... write resumed> )             = 31
13731 <... write resumed> )             = 46
13730 write(1, "'\n", 2 <unfinished ...>
13731 write(1, "'\n", 2 <unfinished ...>
13730 <... write resumed> )             = 2
13731 <... write resumed> )             = 2
13730 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13731 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13730 <... write resumed> )             = 41
13731 <... write resumed> )             = 40
13730 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13731 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13730 <... write resumed> )             = 64
13731 <... write resumed> )             = 45
13731 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13730 close(6)                          = 0
13730 munmap(0x7f0d3c4cd000, 4096)      = 0
13730 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13731 <... futex resumed> )             = 0
13730 <... futex resumed> )             = 1
13731 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13730 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13731 <... futex resumed> )             = 0
13731 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13730 <... write resumed> )             = 51
13731 <... write resumed> )             = 96
13730 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13731 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13730 <... write resumed> )             = 43
13731 <... access resumed> )            = 0
13730 close(5 <unfinished ...>
13731 open("/tmp/prova/file.txt", O_RDWR <unfinished ...>
13730 <... close resumed> )             = 0
13731 <... open resumed> )              = 6
13730 write(1, "\n\n", 2 <unfinished ...>
13731 fstat(6,  <unfinished ...>
13730 <... write resumed> )             = 2
13731 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13730 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13731 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13730 <... write resumed> )             = 51
13731 <... mmap resumed> )              = 0x7f0d3c4cd000
13730 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13731 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13730 <... write resumed> )             = 43
13731 lseek(6, 0, SEEK_SET <unfinished ...>
13730 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13731 <... lseek resumed> )             = 0
13730 <... write resumed> )             = 40
13731 read(6, "CIAO MONDO.\n", 12)      = 12
13730 exit_group(0)                     = ?
13731 lseek(6, 12, SEEK_SET)            = 12
13731 sendto(5, "12", 2, 0, NULL, 0)    = 2
13731 recvfrom(5,  <unfinished ...>
13730 +++ exited with 0 +++
13457 <... nanosleep resumed> {0, 595781738}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13731 <... recvfrom resumed> "port_num 33199", 15, 0, NULL, NULL) = 14
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13730, si_status=0, si_utime=0, si_stime=0} ---
13731 getpeername(5,  <unfinished ...>
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13731 <... getpeername resumed> {sa_family=AF_INET, sin_port=htons(49134), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13731 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13731 connect(7, {sa_family=AF_INET, sin_port=htons(33199), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13731 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13731 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13731 clone(child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13757
13757 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13731 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13757 <... set_robust_list resumed> )   = 0
13757 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13731 <... sendto resumed> )            = 2
13757 <... write resumed> )             = 26
13731 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13757 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13731 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13757 <... futex resumed> )             = 0
13731 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13757 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13731 <... write resumed> )             = 49
13731 write(1, " Filename: prova/file.txt,\n", 27) = 27
13731 write(1, " Modo: 2,\n", 10)       = 10
13731 write(1, " Socket: 5,\n", 12 <unfinished ...>
13750 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49136), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13731 <... write resumed> )             = 12
13750 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13731 write(1, " HB: 7,\n", 8 <unfinished ...>
13750 <... futex resumed> )             = 1
13749 <... futex resumed> )             = 0
13750 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13749 accept(4,  <unfinished ...>
13731 <... write resumed> )             = 8
13750 <... write resumed> )             = 42
13731 write(1, " ptid: 13731.\n", 14 <unfinished ...>
13750 recvfrom(5,  <unfinished ...>
13731 <... write resumed> )             = 14
13750 <... recvfrom resumed> "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13731 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13750 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13757 <... futex resumed> )             = 0
13750 <... write resumed> )             = 46
13757 write(1, "][OpenCommand] Connessione creat"..., 50 <unfinished ...>
13750 write(1, "'\n", 2 <unfinished ...>
13757 <... write resumed> )             = 50
13750 <... write resumed> )             = 2
13757 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13731 <... futex resumed> )             = 1
13750 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13757 <... write resumed> )             = 27
13750 <... write resumed> )             = 40
13757 write(1, " Modo: 2,\n", 10 <unfinished ...>
13731 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13750 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13757 <... write resumed> )             = 10
13750 <... write resumed> )             = 45
13757 write(1, " Socket: 5,\n", 12 <unfinished ...>
13750 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13757 <... write resumed> )             = 12
13750 <... write resumed> )             = 36
13757 write(1, " HB: 7,\n", 8 <unfinished ...>
13750 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13757 <... write resumed> )             = 8
13757 write(1, " ptid: 13731.\n", 14 <unfinished ...>
13750 <... write resumed> )             = 30
13757 <... write resumed> )             = 14
13750 write(1, "[appendOpenedFile] - Non posso f"..., 42 <unfinished ...>
13757 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13750 <... write resumed> )             = 42
13757 <... futex resumed> )             = 1
13750 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13757 write(1, "]Tempsd: 7, ptid: 13731\n", 24 <unfinished ...>
13731 <... futex resumed> )             = 0
13750 <... sendto resumed> )            = 3
13757 <... write resumed> )             = 24
13731 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13750 write(1, "Errore nell' apertura del file ("..., 54 <unfinished ...>
13757 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13750 <... write resumed> )             = 54
13757 <... futex resumed> )             = 1
13750 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13757 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13750 <... write resumed> )             = 51
13757 <... setsockopt resumed> )        = 0
13750 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13757 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13750 <... write resumed> )             = 43
13757 <... rt_sigprocmask resumed> [], 8) = 0
13750 close(5 <unfinished ...>
13757 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13731 <... futex resumed> )             = 0
13731 write(1, "\n\n", 2 <unfinished ...>
13757 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13750 <... close resumed> )             = 0
13731 <... write resumed> )             = 2
13750 write(1, "\n\n", 2 <unfinished ...>
13757 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13731 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 0
13731 recvfrom(5,  <unfinished ...>
13750 <... write resumed> )             = 2
13757 <... rt_sigprocmask resumed> NULL, 8) = 0
13750 recvfrom(5,  <unfinished ...>
13757 nanosleep({1, 0},  <unfinished ...>
13750 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13731 <... recvfrom resumed> "CLO 0\n\0\0\20\20\363\1\0\0\0\0\0\0\0\0\0\0\0\0\0\327\33r\340\177\0\0"..., 99, 0, NULL, NULL) = 99
13750 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13731 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13750 <... write resumed> )             = 51
13750 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13731 <... write resumed> )             = 31
13750 <... write resumed> )             = 43
13731 write(1, "'\n", 2 <unfinished ...>
13750 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13731 <... write resumed> )             = 2
13750 <... write resumed> )             = 40
13731 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13750 exit_group(0)                     = ?
13731 write(1, "HandleWrites: 0 numero di cambia"..., 40) = 40
13731 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13750 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13731 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13750, si_status=0, si_utime=0, si_stime=0} ---
13731 <... write resumed> )             = 64
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13731 close(6)                          = 0
13731 munmap(0x7f0d3c4cd000, 4096)      = 0
13731 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13731 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13731 close(5)                          = 0
13731 write(1, "\n\n", 2)               = 2
13731 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13731 exit_group(0)                     = ?
13757 +++ exited with 0 +++
13731 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13731, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13759
13457 clone( <unfinished ...>
13759 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13760
13760 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 clone( <unfinished ...>
13760 <... set_robust_list resumed> )   = 0
13759 getppid()                         = 13457
13760 getppid( <unfinished ...>
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13761
13760 <... getppid resumed> )           = 13457
13759 write(1, "[spawnProcess] - Mio pid: 13759,"..., 49 <unfinished ...>
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13761 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13761 <... set_robust_list resumed> )   = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13760 write(1, "[spawnProcess] - Mio pid: 13760,"..., 49 <unfinished ...>
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13759 <... write resumed> )             = 49
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13761 getppid( <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13761 <... getppid resumed> )           = 13457
13457 nanosleep({2, 0},  <unfinished ...>
13760 <... write resumed> )             = 49
13759 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13761 write(1, "[spawnProcess] - Mio pid: 13761,"..., 49 <unfinished ...>
13760 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13761 <... write resumed> )             = 49
13761 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13749 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49137), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13749 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13751 <... futex resumed> )             = 0
13751 accept(4,  <unfinished ...>
13749 write(1, "[handleSocket] - Collegamento ef"..., 42) = 42
13749 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13749 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13749 write(1, "'\n", 2)                = 2
13749 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13749 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13749 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13749 access("/tmp/prova/file.txt", F_OK) = 0
13749 open("/tmp/prova/file.txt", O_RDWR) = 6
13749 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13749 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13749 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13749 lseek(6, 0, SEEK_SET)             = 0
13749 read(6, "CIAO MONDO.\n", 12)      = 12
13749 lseek(6, 12, SEEK_SET)            = 12
13749 sendto(5, "12", 2, 0, NULL, 0)    = 2
13749 recvfrom(5, "port_num 58370", 15, 0, NULL, NULL) = 14
13749 getpeername(5, {sa_family=AF_INET, sin_port=htons(49137), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13749 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13749 connect(7, {sa_family=AF_INET, sin_port=htons(58370), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13749 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13749 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13749 write(1, " Filename: prova/file.txt,\n", 27) = 27
13749 write(1, " Modo: 1,\n", 10)       = 10
13749 write(1, " Socket: 5,\n", 12)     = 12
13749 write(1, " HB: 7,\n", 8)          = 8
13751 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49139), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13749 write(1, " ptid: 13749.\n", 14 <unfinished ...>
13751 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13749 <... write resumed> )             = 14
13751 <... futex resumed> )             = 1
13759 <... futex resumed> )             = 0
13751 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13759 accept(4,  <unfinished ...>
13751 <... write resumed> )             = 42
13749 write(1, "]\n\n", 3 <unfinished ...>
13751 recvfrom(5,  <unfinished ...>
13749 <... write resumed> )             = 3
13751 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13749 recvfrom(5,  <unfinished ...>
13751 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13749 <... recvfrom resumed> "CLO 0\n\0\0\20`\347\0\0\0\0\0\0\0\0\0\0\0\0\0\0G\365\251t\177\0\0"..., 99, 0, NULL, NULL) = 99
13751 <... write resumed> )             = 46
13749 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13751 write(1, "'\n", 2 <unfinished ...>
13749 <... write resumed> )             = 31
13751 <... write resumed> )             = 2
13749 write(1, "'\n", 2 <unfinished ...>
13751 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13749 <... write resumed> )             = 2
13751 <... write resumed> )             = 40
13749 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13751 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13749 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13751 <... write resumed> )             = 45
13749 <... write resumed> )             = 64
13751 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13749 close(6)                          = 0
13749 munmap(0x7f0d3c4cd000, 4096)      = 0
13749 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13751 <... futex resumed> )             = 0
13749 <... futex resumed> )             = 1
13751 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13749 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13751 <... futex resumed> )             = 0
13749 <... write resumed> )             = 51
13751 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13749 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13751 <... write resumed> )             = 96
13749 <... write resumed> )             = 43
13751 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13749 close(5 <unfinished ...>
13751 <... access resumed> )            = 0
13749 <... close resumed> )             = 0
13751 open("/tmp/prova/file.txt", O_RDWR <unfinished ...>
13749 write(1, "\n\n", 2 <unfinished ...>
13751 <... open resumed> )              = 6
13749 <... write resumed> )             = 2
13751 fstat(6,  <unfinished ...>
13749 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13751 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13749 <... write resumed> )             = 51
13751 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13749 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13751 <... mmap resumed> )              = 0x7f0d3c4cd000
13749 <... write resumed> )             = 43
13751 fstat(6,  <unfinished ...>
13749 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13751 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13749 <... write resumed> )             = 40
13751 lseek(6, 0, SEEK_SET)             = 0
13749 exit_group(0)                     = ?
13751 read(6, "CIAO MONDO.\n", 12)      = 12
13751 lseek(6, 12, SEEK_SET)            = 12
13751 sendto(5, "12", 2, 0, NULL, 0)    = 2
13751 recvfrom(5,  <unfinished ...>
13749 +++ exited with 0 +++
13751 <... recvfrom resumed> "port_num 47993", 15, 0, NULL, NULL) = 14
13751 getpeername(5,  <unfinished ...>
13457 <... nanosleep resumed> {1, 237827141}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13751 <... getpeername resumed> {sa_family=AF_INET, sin_port=htons(49139), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13749, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13751 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13751 connect(7, {sa_family=AF_INET, sin_port=htons(47993), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13751 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13751 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13751 clone( <unfinished ...>
13776 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13751 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13776
13776 <... set_robust_list resumed> )   = 0
13751 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13776 write(1, "[Spawining HeartBeating] \n", 26) = 26
13751 <... sendto resumed> )            = 2
13751 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13776 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 1
13751 <... futex resumed> )             = 0
13776 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13751 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13776 <... write resumed> )             = 49
13776 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13759 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49141), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13759 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13776 <... write resumed> )             = 27
13759 <... futex resumed> )             = 1
13776 write(1, " Modo: 2,\n", 10 <unfinished ...>
13760 <... futex resumed> )             = 0
13776 <... write resumed> )             = 10
13760 accept(4,  <unfinished ...>
13776 write(1, " Socket: 5,\n", 12 <unfinished ...>
13759 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13776 <... write resumed> )             = 12
13759 <... write resumed> )             = 42
13776 write(1, " HB: 7,\n", 8 <unfinished ...>
13759 recvfrom(5,  <unfinished ...>
13776 <... write resumed> )             = 8
13759 <... recvfrom resumed> "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13776 write(1, " ptid: 13751.\n", 14 <unfinished ...>
13759 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13776 <... write resumed> )             = 14
13759 <... write resumed> )             = 46
13776 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13759 write(1, "'\n", 2 <unfinished ...>
13776 <... futex resumed> )             = 1
13759 <... write resumed> )             = 2
13776 write(1, "]Tempsd: 7, ptid: 13751\n", 24 <unfinished ...>
13751 <... futex resumed> )             = 0
13776 <... write resumed> )             = 24
13759 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13776 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13751 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13776 <... futex resumed> )             = 0
13759 <... write resumed> )             = 40
13776 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13751 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13776 <... setsockopt resumed> )        = 0
13759 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13776 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13751 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13776 <... rt_sigprocmask resumed> [], 8) = 0
13759 <... write resumed> )             = 45
13776 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13759 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13776 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13759 <... write resumed> )             = 36
13776 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13759 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13776 <... rt_sigprocmask resumed> NULL, 8) = 0
13751 <... write resumed> )             = 49
13776 nanosleep({1, 0},  <unfinished ...>
13759 <... write resumed> )             = 30
13751 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13759 write(1, "[appendOpenedFile] - Non posso f"..., 42) = 42
13751 <... write resumed> )             = 27
13759 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13751 write(1, " Modo: 2,\n", 10 <unfinished ...>
13759 <... sendto resumed> )            = 3
13751 <... write resumed> )             = 10
13751 write(1, " Socket: 5,\n", 12)     = 12
13751 write(1, " HB: 7,\n", 8)          = 8
13751 write(1, " ptid: 13751.\n", 14)   = 14
13751 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 0
13751 write(1, "]\n\n", 3)              = 3
13751 recvfrom(5, "CLO 0\n\0\0\20`\347\0\0\0\0\0\0\0\0\0\0\0\0\0\0007u\251t\177\0\0"..., 99, 0, NULL, NULL) = 99
13751 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13751 write(1, "'\n", 2)                = 2
13751 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13751 write(1, "HandleWrites: 0 numero di cambia"..., 40) = 40
13751 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13751 write(1, "[closeClientSession] - individua"..., 64) = 64
13751 close(6)                          = 0
13751 munmap(0x7f0d3c4cd000, 4096)      = 0
13759 write(1, "Errore nell' apertura del file ("..., 54 <unfinished ...>
13751 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13759 <... write resumed> )             = 54
13751 <... write resumed> )             = 51
13759 close(5 <unfinished ...>
13751 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13759 <... close resumed> )             = 0
13751 close(5 <unfinished ...>
13759 write(1, "\n\n", 2)               = 2
13751 <... close resumed> )             = 0
13759 recvfrom(5,  <unfinished ...>
13751 write(1, "\n\n", 2 <unfinished ...>
13759 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13751 <... write resumed> )             = 2
13759 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13751 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13759 <... write resumed> )             = 40
13751 <... write resumed> )             = 40
13759 exit_group(0)                     = ?
13751 exit_group(0)                     = ?
13759 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13759, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13776 +++ exited with 0 +++
13751 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13751, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13788
13788 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 clone( <unfinished ...>
13788 getppid()                         = 13457
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13789
13788 write(1, "[spawnProcess] - Mio pid: 13788,"..., 49 <unfinished ...>
13789 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13788 <... write resumed> )             = 49
13457 clone( <unfinished ...>
13789 <... set_robust_list resumed> )   = 0
13788 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13789 getppid()                         = 13457
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13790
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13789 write(1, "[spawnProcess] - Mio pid: 13789,"..., 49 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13790 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13790 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13789 <... write resumed> )             = 49
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13789 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13790 getppid( <unfinished ...>
13457 nanosleep({2, 0},  <unfinished ...>
13790 <... getppid resumed> )           = 13457
13790 write(1, "[spawnProcess] - Mio pid: 13790,"..., 49) = 49
13790 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13760 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49142), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13760 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1) = 1
13760 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13761 <... futex resumed> )             = 0
13760 <... write resumed> )             = 42
13761 accept(4,  <unfinished ...>
13760 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13760 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13760 write(1, "'\n", 2)                = 2
13760 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13760 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13760 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13760 access("/tmp/prova/file.txt", F_OK) = 0
13760 open("/tmp/prova/file.txt", O_RDWR) = 6
13760 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13760 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13760 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13760 lseek(6, 0, SEEK_SET)             = 0
13760 read(6, "CIAO MONDO.\n", 12)      = 12
13760 lseek(6, 12, SEEK_SET)            = 12
13760 sendto(5, "12", 2, 0, NULL, 0)    = 2
13760 recvfrom(5, "port_num 37827", 15, 0, NULL, NULL) = 14
13760 getpeername(5, {sa_family=AF_INET, sin_port=htons(49142), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13760 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13760 connect(7, {sa_family=AF_INET, sin_port=htons(37827), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13760 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13760 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13760 write(1, " Filename: prova/file.txt,\n", 27) = 27
13760 write(1, " Modo: 1,\n", 10)       = 10
13760 write(1, " Socket: 5,\n", 12)     = 12
13760 write(1, " HB: 7,\n", 8)          = 8
13760 write(1, " ptid: 13760.\n", 14)   = 14
13761 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49144), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13760 write(1, "]\n\n", 3 <unfinished ...>
13761 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13760 <... write resumed> )             = 3
13788 <... futex resumed> )             = 0
13761 <... futex resumed> )             = 1
13788 accept(4,  <unfinished ...>
13761 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13760 recvfrom(5,  <unfinished ...>
13761 <... write resumed> )             = 42
13761 recvfrom(5,  <unfinished ...>
13760 <... recvfrom resumed> "CLO 0\n\0\0\20@0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\307\377x\377~\0\0"..., 99, 0, NULL, NULL) = 99
13761 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13760 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13761 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13760 <... write resumed> )             = 31
13761 write(1, "'\n", 2 <unfinished ...>
13760 write(1, "'\n", 2 <unfinished ...>
13761 <... write resumed> )             = 2
13760 <... write resumed> )             = 2
13761 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13760 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13761 <... write resumed> )             = 40
13760 <... write resumed> )             = 41
13761 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13760 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13761 <... write resumed> )             = 45
13760 <... write resumed> )             = 64
13761 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13760 close(6)                          = 0
13760 munmap(0x7f0d3c4cd000, 4096)      = 0
13760 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13761 <... futex resumed> )             = 0
13760 <... futex resumed> )             = 1
13761 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13760 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13761 <... futex resumed> )             = 0
13760 <... write resumed> )             = 51
13761 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13760 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13761 <... write resumed> )             = 96
13760 <... write resumed> )             = 43
13761 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13760 close(5 <unfinished ...>
13761 <... access resumed> )            = 0
13760 <... close resumed> )             = 0
13761 open("/tmp/prova/file.txt", O_RDWR <unfinished ...>
13760 write(1, "\n\n", 2 <unfinished ...>
13761 <... open resumed> )              = 6
13760 <... write resumed> )             = 2
13761 fstat(6,  <unfinished ...>
13760 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13761 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13760 <... write resumed> )             = 51
13761 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13760 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13761 <... mmap resumed> )              = 0x7f0d3c4cd000
13760 <... write resumed> )             = 43
13761 fstat(6,  <unfinished ...>
13760 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13761 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13760 <... write resumed> )             = 40
13761 lseek(6, 0, SEEK_SET)             = 0
13761 read(6,  <unfinished ...>
13760 exit_group(0)                     = ?
13761 <... read resumed> "CIAO MONDO.\n", 12) = 12
13761 lseek(6, 12, SEEK_SET)            = 12
13761 sendto(5, "12", 2, 0, NULL, 0)    = 2
13760 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 289540827}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13760, si_status=0, si_utime=0, si_stime=0} ---
13761 recvfrom(5,  <unfinished ...>
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13761 <... recvfrom resumed> "port_num 39052", 15, 0, NULL, NULL) = 14
13761 getpeername(5, {sa_family=AF_INET, sin_port=htons(49144), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13761 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13761 connect(7, {sa_family=AF_INET, sin_port=htons(39052), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13761 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13761 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13761 clone(child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13794
13794 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13761 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13794 <... set_robust_list resumed> )   = 0
13794 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13761 <... sendto resumed> )            = 2
13794 <... write resumed> )             = 26
13761 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13794 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13761 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13794 <... futex resumed> )             = 0
13761 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13794 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13761 <... write resumed> )             = 49
13761 write(1, " Filename: prova/file.txt,\n", 27) = 27
13761 write(1, " Modo: 2,\n", 10 <unfinished ...>
13788 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49146), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13761 <... write resumed> )             = 10
13788 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13761 write(1, " Socket: 5,\n", 12 <unfinished ...>
13789 <... futex resumed> )             = 0
13788 <... futex resumed> )             = 1
13789 accept(4,  <unfinished ...>
13788 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13761 <... write resumed> )             = 12
13788 <... write resumed> )             = 42
13761 write(1, " HB: 7,\n", 8 <unfinished ...>
13788 recvfrom(5, "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13761 <... write resumed> )             = 8
13788 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13761 write(1, " ptid: 13761.\n", 14 <unfinished ...>
13788 <... write resumed> )             = 46
13761 <... write resumed> )             = 14
13788 write(1, "'\n", 2 <unfinished ...>
13761 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13788 <... write resumed> )             = 2
13761 <... futex resumed> )             = 1
13794 <... futex resumed> )             = 0
13788 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13794 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13788 <... write resumed> )             = 40
13761 write(1, "]\n\n", 3 <unfinished ...>
13788 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13761 <... write resumed> )             = 3
13788 <... write resumed> )             = 45
13761 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13788 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13794 <... futex resumed> )             = 0
13761 <... futex resumed> )             = 1
13788 <... write resumed> )             = 36
13794 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13788 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13761 recvfrom(5,  <unfinished ...>
13794 <... write resumed> )             = 49
13788 <... write resumed> )             = 30
13794 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13788 write(1, "[appendOpenedFile] - Non posso f"..., 42 <unfinished ...>
13761 <... recvfrom resumed> "CLO 0\n\0\0\20@0\2\0\0\0\0\0\0\0\0\0\0\0\0\0\267\177x\377~\0\0"..., 99, 0, NULL, NULL) = 99
13794 <... write resumed> )             = 27
13788 <... write resumed> )             = 42
13794 write(1, " Modo: 2,\n", 10 <unfinished ...>
13788 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13761 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13794 <... write resumed> )             = 10
13788 <... sendto resumed> )            = 3
13788 write(1, "Errore nell' apertura del file ("..., 54) = 54
13788 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13794 write(1, " Socket: 5,\n", 12 <unfinished ...>
13788 <... write resumed> )             = 51
13794 <... write resumed> )             = 12
13788 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13794 write(1, " HB: 7,\n", 8 <unfinished ...>
13788 <... write resumed> )             = 43
13794 <... write resumed> )             = 8
13788 close(5 <unfinished ...>
13794 write(1, " ptid: 13761.\n", 14)   = 14
13788 <... close resumed> )             = 0
13794 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13788 write(1, "\n\n", 2 <unfinished ...>
13794 <... futex resumed> )             = 1
13788 <... write resumed> )             = 2
13794 write(1, "]Tempsd: 7, ptid: 13761\n", 24 <unfinished ...>
13788 recvfrom(5,  <unfinished ...>
13794 <... write resumed> )             = 24
13788 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13794 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13788 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13794 <... setsockopt resumed> )        = 0
13788 <... write resumed> )             = 51
13794 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13788 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13794 <... rt_sigprocmask resumed> [], 8) = 0
13788 <... write resumed> )             = 43
13794 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13788 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13794 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13788 <... write resumed> )             = 40
13794 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13788 exit_group(0)                     = ?
13794 nanosleep({1, 0},  <unfinished ...>
13788 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13788, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13761 <... futex resumed> )             = 0
13761 write(1, "[handleSocket] - Client:'CLO 0\n", 31) = 31
13761 write(1, "'\n", 2)                = 2
13761 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1) = 0
13761 write(1, "[handleCommand] Ricevuta richies"..., 41) = 41
13761 write(1, "HandleWrites: 0 numero di cambia"..., 40) = 40
13761 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13761 write(1, "[closeClientSession] - individua"..., 64) = 64
13761 close(6)                          = 0
13761 munmap(0x7f0d3c4cd000, 4096)      = 0
13761 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13761 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13761 close(5)                          = 0
13761 write(1, "\n\n", 2)               = 2
13761 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13761 exit_group(0)                     = ?
13794 +++ exited with 0 +++
13761 +++ exited with 0 +++
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13761, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13807
13807 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 clone( <unfinished ...>
13807 getppid()                         = 13457
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13808
13807 write(1, "[spawnProcess] - Mio pid: 13807,"..., 49 <unfinished ...>
13457 clone( <unfinished ...>
13807 <... write resumed> )             = 49
13808 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13807 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13809
13808 <... set_robust_list resumed> )   = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13809 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13809 <... set_robust_list resumed> )   = 0
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13808 getppid( <unfinished ...>
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13809 getppid( <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13809 <... getppid resumed> )           = 13457
13457 nanosleep({2, 0},  <unfinished ...>
13808 <... getppid resumed> )           = 13457
13809 write(1, "[spawnProcess] - Mio pid: 13809,"..., 49 <unfinished ...>
13808 write(1, "[spawnProcess] - Mio pid: 13808,"..., 49 <unfinished ...>
13809 <... write resumed> )             = 49
13808 <... write resumed> )             = 49
13809 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13808 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... nanosleep resumed> 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0}, 0x7ffc1c99a880) = 0
13457 rt_sigprocmask(SIG_BLOCK, [CHLD], [], 8) = 0
13457 rt_sigaction(SIGCHLD, NULL, {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [], NULL, 8) = 0
13457 nanosleep({2, 0},  <unfinished ...>
13789 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49149), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13789 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13790 <... futex resumed> )             = 0
13789 <... futex resumed> )             = 1
13789 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13790 accept(4,  <unfinished ...>
13789 <... write resumed> )             = 42
13789 recvfrom(5, "OPE prova/file.txt 1\n\0", 99, 0, NULL, NULL) = 22
13789 write(1, "[handleSocket] - Client:'OPE pro"..., 46) = 46
13789 write(1, "'\n", 2)                = 2
13789 write(1, "[handleCommand] Ricevuta richies"..., 40) = 40
13789 write(1, "[appendOpenedFile] - Appendo il "..., 45) = 45
13789 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96) = 96
13789 access("/tmp/prova/file.txt", F_OK) = 0
13789 open("/tmp/prova/file.txt", O_RDWR) = 6
13789 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13789 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0x7f0d3c4cd000
13789 fstat(6, {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13789 lseek(6, 0, SEEK_SET)             = 0
13789 read(6, "CIAO MONDO.\n", 12)      = 12
13789 lseek(6, 12, SEEK_SET)            = 12
13789 sendto(5, "12", 2, 0, NULL, 0)    = 2
13789 recvfrom(5, "port_num 34462", 15, 0, NULL, NULL) = 14
13789 getpeername(5, {sa_family=AF_INET, sin_port=htons(49149), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13789 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13789 connect(7, {sa_family=AF_INET, sin_port=htons(34462), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13789 sendto(5, "ok", 2, 0, NULL, 0)    = 2
13789 write(1, "[OpenCommand] Connessione creata"..., 49) = 49
13789 write(1, " Filename: prova/file.txt,\n", 27) = 27
13789 write(1, " Modo: 1,\n", 10)       = 10
13789 write(1, " Socket: 5,\n", 12)     = 12
13789 write(1, " HB: 7,\n", 8)          = 8
13790 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49151), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13789 write(1, " ptid: 13789.\n", 14 <unfinished ...>
13790 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13789 <... write resumed> )             = 14
13790 <... futex resumed> )             = 1
13807 <... futex resumed> )             = 0
13790 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13807 accept(4,  <unfinished ...>
13789 write(1, "]\n\n", 3 <unfinished ...>
13790 <... write resumed> )             = 42
13789 <... write resumed> )             = 3
13790 recvfrom(5,  <unfinished ...>
13789 recvfrom(5,  <unfinished ...>
13790 <... recvfrom resumed> "OPE prova/file.txt 2\n\0", 99, 0, NULL, NULL) = 22
13789 <... recvfrom resumed> "CLO 0\n\0\0\20pf\1\0\0\0\0\0\0\0\0\0\0\0\0\0\207\20 z\177\0\0"..., 99, 0, NULL, NULL) = 99
13790 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13789 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13790 <... write resumed> )             = 46
13789 <... write resumed> )             = 31
13790 write(1, "'\n", 2 <unfinished ...>
13789 write(1, "'\n", 2 <unfinished ...>
13790 <... write resumed> )             = 2
13789 <... write resumed> )             = 2
13790 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13789 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13790 <... write resumed> )             = 40
13789 <... write resumed> )             = 41
13790 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13789 write(1, "[closeClientSession] - individua"..., 64 <unfinished ...>
13790 <... write resumed> )             = 45
13789 <... write resumed> )             = 64
13790 futex(0x7f0d3c4ce000, FUTEX_WAIT, 2, NULL <unfinished ...>
13789 close(6)                          = 0
13789 munmap(0x7f0d3c4cd000, 4096)      = 0
13789 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13790 <... futex resumed> )             = 0
13789 <... futex resumed> )             = 1
13790 futex(0x7f0d3c4ce000, FUTEX_WAKE, 1 <unfinished ...>
13789 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13790 <... futex resumed> )             = 0
13789 <... write resumed> )             = 51
13790 write(1, "[fileAlreadyOpenedInWrite] - Nes"..., 96 <unfinished ...>
13789 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13790 <... write resumed> )             = 96
13789 <... write resumed> )             = 43
13790 access("/tmp/prova/file.txt", F_OK <unfinished ...>
13789 close(5 <unfinished ...>
13790 <... access resumed> )            = 0
13789 <... close resumed> )             = 0
13790 open("/tmp/prova/file.txt", O_RDWR <unfinished ...>
13789 write(1, "\n\n", 2 <unfinished ...>
13790 <... open resumed> )              = 6
13789 <... write resumed> )             = 2
13790 fstat(6,  <unfinished ...>
13789 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13790 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13789 <... write resumed> )             = 51
13790 mmap(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0 <unfinished ...>
13789 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13790 <... mmap resumed> )              = 0x7f0d3c4cd000
13789 <... write resumed> )             = 43
13790 fstat(6,  <unfinished ...>
13789 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13790 <... fstat resumed> {st_mode=S_IFREG|0644, st_size=12, ...}) = 0
13789 <... write resumed> )             = 40
13790 lseek(6, 0, SEEK_SET)             = 0
13789 exit_group(0)                     = ?
13790 read(6, "CIAO MONDO.\n", 12)      = 12
13790 lseek(6, 12, SEEK_SET)            = 12
13790 sendto(5, "12", 2, 0, NULL, 0)    = 2
13789 +++ exited with 0 +++
13457 <... nanosleep resumed> {1, 940795503}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13789, si_status=0, si_utime=0, si_stime=0} ---
13790 recvfrom(5,  <unfinished ...>
13457 restart_syscall(<... resuming interrupted call ...> <unfinished ...>
13790 <... recvfrom resumed> "port_num 47910", 15, 0, NULL, NULL) = 14
13790 getpeername(5, {sa_family=AF_INET, sin_port=htons(49151), sin_addr=inet_addr("127.0.0.1")}, [16]) = 0
13790 socket(PF_INET, SOCK_STREAM, IPPROTO_IP) = 7
13790 connect(7, {sa_family=AF_INET, sin_port=htons(47910), sin_addr=inet_addr("127.0.0.1")}, 16) = 0
13790 mmap(NULL, 8392704, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0x7f0d3b4cd000
13790 mprotect(0x7f0d3b4cd000, 4096, PROT_NONE) = 0
13790 clone( <unfinished ...>
13889 set_robust_list(0x7f0d3bccd9e0, 24 <unfinished ...>
13790 <... clone resumed> child_stack=0x7f0d3bcccfb0, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0x7f0d3bccd9d0, tls=0x7f0d3bccd700, child_tidptr=0x7f0d3bccd9d0) = 13889
13889 <... set_robust_list resumed> )   = 0
13790 sendto(5, "ok", 2, 0, NULL, 0 <unfinished ...>
13889 write(1, "[Spawining HeartBeating] \n", 26 <unfinished ...>
13790 <... sendto resumed> )            = 2
13889 <... write resumed> )             = 26
13790 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13889 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13790 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13889 <... futex resumed> )             = 0
13790 write(1, "[OpenCommand] Connessione creata"..., 49 <unfinished ...>
13889 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13790 <... write resumed> )             = 49
13790 write(1, " Filename: prova/file.txt,\n", 27) = 27
13790 write(1, " Modo: 2,\n", 10)       = 10
13790 write(1, " Socket: 5,\n", 12)     = 12
13807 <... accept resumed> {sa_family=AF_INET, sin_port=htons(49153), sin_addr=inet_addr("127.0.0.1")}, [16]) = 5
13790 write(1, " HB: 7,\n", 8 <unfinished ...>
13807 futex(0x7f0d3c4ce640, FUTEX_WAKE, 1 <unfinished ...>
13790 <... write resumed> )             = 8
13807 <... futex resumed> )             = 1
13809 <... futex resumed> )             = 0
13807 write(1, "[handleSocket] - Collegamento ef"..., 42 <unfinished ...>
13809 accept(4,  <unfinished ...>
13807 <... write resumed> )             = 42
13790 write(1, " ptid: 13790.\n", 14 <unfinished ...>
13807 recvfrom(5, "OPE prova/file.txt 4\n\0", 99, 0, NULL, NULL) = 22
13790 <... write resumed> )             = 14
13807 write(1, "[handleSocket] - Client:'OPE pro"..., 46 <unfinished ...>
13790 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13807 <... write resumed> )             = 46
13889 <... futex resumed> )             = 0
13807 write(1, "'\n", 2 <unfinished ...>
13889 write(1, "][OpenCommand] Connessione creat"..., 50 <unfinished ...>
13807 <... write resumed> )             = 2
13889 <... write resumed> )             = 50
13790 <... futex resumed> )             = 1
13889 write(1, " Filename: prova/file.txt,\n", 27 <unfinished ...>
13807 write(1, "[handleCommand] Ricevuta richies"..., 40 <unfinished ...>
13889 <... write resumed> )             = 27
13807 <... write resumed> )             = 40
13889 write(1, " Modo: 2,\n", 10 <unfinished ...>
13790 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13889 <... write resumed> )             = 10
13807 write(1, "[appendOpenedFile] - Appendo il "..., 45 <unfinished ...>
13889 write(1, " Socket: 5,\n", 12 <unfinished ...>
13807 <... write resumed> )             = 45
13889 <... write resumed> )             = 12
13807 write(1, "iterator->filename = prova/file."..., 36 <unfinished ...>
13889 write(1, " HB: 7,\n", 8 <unfinished ...>
13807 <... write resumed> )             = 36
13889 <... write resumed> )             = 8
13807 write(1, "File gia aperto in scrittura!\n", 30 <unfinished ...>
13889 write(1, " ptid: 13790.\n", 14 <unfinished ...>
13807 <... write resumed> )             = 30
13889 <... write resumed> )             = 14
13807 write(1, "[appendOpenedFile] - Non posso f"..., 42 <unfinished ...>
13889 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13807 <... write resumed> )             = 42
13889 <... futex resumed> )             = 1
13807 sendto(5, "-1\n", 3, 0, NULL, 0 <unfinished ...>
13889 write(1, "]Tempsd: 7, ptid: 13790\n", 24 <unfinished ...>
13790 <... futex resumed> )             = 0
13889 <... write resumed> )             = 24
13807 <... sendto resumed> )            = 3
13889 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13807 write(1, "Errore nell' apertura del file ("..., 54 <unfinished ...>
13889 <... futex resumed> )             = 0
13790 futex(0x7f0d3c08e9e0, FUTEX_WAIT_PRIVATE, 2, NULL <unfinished ...>
13889 setsockopt(7, SOL_SOCKET, SO_RCVTIMEO, "\2\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0", 16 <unfinished ...>
13807 <... write resumed> )             = 54
13889 <... setsockopt resumed> )        = 0
13790 <... futex resumed> )             = -1 EAGAIN (Resource temporarily unavailable)
13889 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13807 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13889 <... rt_sigprocmask resumed> [], 8) = 0
13807 <... write resumed> )             = 51
13889 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13807 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13889 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13807 <... write resumed> )             = 43
13889 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13807 close(5 <unfinished ...>
13889 <... rt_sigprocmask resumed> NULL, 8) = 0
13790 write(1, "\n\n", 2 <unfinished ...>
13889 nanosleep({1, 0},  <unfinished ...>
13807 <... close resumed> )             = 0
13790 <... write resumed> )             = 2
13807 write(1, "\n\n", 2 <unfinished ...>
13790 futex(0x7f0d3c08e9e0, FUTEX_WAKE_PRIVATE, 1 <unfinished ...>
13807 <... write resumed> )             = 2
13790 <... futex resumed> )             = 0
13807 recvfrom(5,  <unfinished ...>
13790 recvfrom(5,  <unfinished ...>
13807 <... recvfrom resumed> 0x7ffc1c99a9a0, 99, 0, 0, 0) = -1 EBADF (Bad file descriptor)
13790 <... recvfrom resumed> "CLO 0\n\0\0\20pf\1\0\0\0\0\0\0\0\0\0\0\0\0\0w\220\37z\177\0\0"..., 99, 0, NULL, NULL) = 99
13807 write(1, "[CloseClientSession] Numero conn"..., 51 <unfinished ...>
13790 write(1, "[handleSocket] - Client:'CLO 0\n", 31 <unfinished ...>
13807 <... write resumed> )             = 51
13790 <... write resumed> )             = 31
13807 write(1, "[closeClientSession] - Connessio"..., 43 <unfinished ...>
13790 write(1, "'\n", 2 <unfinished ...>
13807 <... write resumed> )             = 43
13790 <... write resumed> )             = 2
13807 write(1, "[handleSocket] - Connessione ter"..., 40 <unfinished ...>
13790 write(1, "[handleCommand] Ricevuta richies"..., 41 <unfinished ...>
13807 <... write resumed> )             = 40
13790 <... write resumed> )             = 41
13790 write(1, "HandleWrites: 0 numero di cambia"..., 40 <unfinished ...>
13807 exit_group(0)                     = ?
13790 <... write resumed> )             = 40
13790 write(1, "[Close] Cerco client per messagg"..., 70) = 70
13790 write(1, "[closeClientSession] - individua"..., 64) = 64
13807 +++ exited with 0 +++
13790 close(6 <unfinished ...>
13457 <... restart_syscall resumed> )   = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13807, si_status=0, si_utime=0, si_stime=0} ---
13790 <... close resumed> )             = 0
13790 munmap(0x7f0d3c4cd000, 4096)      = 0
13790 write(1, "[CloseClientSession] Numero conn"..., 51) = 51
13790 write(1, "[closeClientSession] - Connessio"..., 43) = 43
13790 close(5)                          = 0
13790 write(1, "\n\n", 2)               = 2
13790 write(1, "[handleSocket] - Connessione ter"..., 40) = 40
13790 exit_group(0)                     = ?
13889 +++ exited with 0 +++
13790 +++ exited with 0 +++
13457 --- SIGCHLD {si_signo=SIGCHLD, si_code=CLD_EXITED, si_pid=13790, si_status=0, si_utime=0, si_stime=0} ---
13457 restart_syscall(<... resuming interrupted call ...>) = 0
13457 clone(child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13899
13899 set_robust_list(0x7f0d3c4afa20, 24) = 0
13457 clone( <unfinished ...>
13899 getppid()                         = 13457
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13900
13899 write(1, "[spawnProcess] - Mio pid: 13899,"..., 49 <unfinished ...>
13457 clone( <unfinished ...>
13900 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13899 <... write resumed> )             = 49
13900 <... set_robust_list resumed> )   = 0
13899 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13457 <... clone resumed> child_stack=0, flags=CLONE_CHILD_CLEARTID|CLONE_CHILD_SETTID|SIGCHLD, child_tidptr=0x7f0d3c4afa10) = 13901
13900 getppid( <unfinished ...>
13457 rt_sigprocmask(SIG_BLOCK, [CHLD],  <unfinished ...>
13901 set_robust_list(0x7f0d3c4afa20, 24 <unfinished ...>
13457 <... rt_sigprocmask resumed> [], 8) = 0
13901 <... set_robust_list resumed> )   = 0
13457 rt_sigaction(SIGCHLD, NULL,  <unfinished ...>
13900 <... getppid resumed> )           = 13457
13457 <... rt_sigaction resumed> {SIG_DFL, [], 0}, 8) = 0
13457 rt_sigprocmask(SIG_SETMASK, [],  <unfinished ...>
13901 getppid( <unfinished ...>
13457 <... rt_sigprocmask resumed> NULL, 8) = 0
13901 <... getppid resumed> )           = 13457
13457 nanosleep({2, 0},  <unfinished ...>
13900 write(1, "[spawnProcess] - Mio pid: 13900,"..., 49 <unfinished ...>
13901 write(1, "[spawnProcess] - Mio pid: 13901,"..., 49 <unfinished ...>
13900 <... write resumed> )             = 49
13901 <... write resumed> )             = 49
13900 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL <unfinished ...>
13901 futex(0x7f0d3c4ce640, FUTEX_WAIT, 2, NULL) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13457 <... nanosleep resumed> {0, 156150896}) = ? ERESTART_RESTARTBLOCK (Interrupted by signal)
13900 <... futex resumed> )             = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13899 <... futex resumed> )             = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13809 <... accept resumed> 0x7ffc1c99a950, [16]) = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13457 --- SIGINT {si_signo=SIGINT, si_code=SI_KERNEL} ---
13900 --- SIGINT {si_signo=SIGINT, si_code=SI_KERNEL} ---
13809 --- SIGINT {si_signo=SIGINT, si_code=SI_KERNEL} ---
13808 <... futex resumed> )             = ? ERESTARTSYS (To be restarted if SA_RESTART is set)
13457 +++ killed by SIGINT +++
13901 --- SIGINT {si_signo=SIGINT, si_code=SI_KERNEL} ---
13900 +++ killed by SIGINT +++
13899 --- SIGINT {si_signo=SIGINT, si_code=SI_KERNEL} ---
13809 +++ killed by SIGINT +++
13808 --- SIGINT {si_signo=SIGINT, si_code=SI_KERNEL} ---
13901 +++ killed by SIGINT +++
13899 +++ killed by SIGINT +++
13808 +++ killed by SIGINT +++
